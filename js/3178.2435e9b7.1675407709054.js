"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[3178],{3178:function(s,t,e){e.r(t),e.d(t,{default:function(){return B}});var a,i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("dialog-base",{attrs:{visible:s.isVisible,title:s.t("selectToken.title"),"custom-class":"asset-select"},on:{"update:visible":function(t){s.isVisible=t}}},[e("s-tabs",{staticClass:"s-tabs--exchange",attrs:{value:s.tabValue,type:"rounded"},on:{input:s.handleTabChange}},[e("search-input",{ref:"search",staticClass:"token-search",attrs:{placeholder:s.activeSearchPlaceholder,autofocus:""},on:{clear:s.handleClearSearch},model:{value:s.query,callback:function(t){s.query=t},expression:"query"}}),e("s-tab",{attrs:{label:s.t("selectToken.assets.title"),name:"assets"}}),e("s-tab",{staticClass:"asset-select__info",attrs:{disabled:s.disabledCustom,label:s.t("selectToken.custom.title"),name:"custom"}},[s.customAsset?[s.alreadyAttached?e("span",[s._v(s._s(s.t("selectToken.custom.alreadyAttached")))]):e("add-asset-details-card",{attrs:{asset:s.customAsset,theme:s.libraryTheme,whitelist:s.whitelist,"whitelist-ids-by-symbol":s.whitelistIdsBySymbol,loading:s.loading},on:{add:s.handleAddAsset}})]:s.searchQuery?e("span",[s._v(s._s(s.t("selectToken.custom.notFound")))]):s._e(),s.connected&&s.sortedNonWhitelistAccountAssets.length?e("div",{staticClass:"token-list_text"},[s._v(" "+s._s(s.sortedNonWhitelistAccountAssets.length)+" "+s._s(s.t("selectToken.custom.text"))+" ")]):s._e()],2),e("select-asset-list",{directives:[{name:"show",rawName:"v-show",value:s.shouldAssetsListBeShown,expression:"shouldAssetsListBeShown"}],attrs:{assets:s.activeAssetsList,size:s.assetsListSize,connected:s.connected,"should-balance-be-hidden":s.shouldBalanceBeHidden,"has-fiat-value":""},on:{click:s.selectAsset},scopedSlots:s._u([{key:"action",fn:function(t){return[s.isCustomTabActive?e("div",{staticClass:"token-item__remove",on:{click:function(e){return e.stopPropagation(),s.handleRemoveCustomAsset(t)}}},[e("s-icon",{attrs:{name:"basic-trash-24"}})],1):s._e()]}}])})],1)],1)},o=[],n=e(60760),l=e(70655),c=e(52612),d=e.n(c),r=e(53545),h=e(37365),u=e(32806),A=e(91898),v=e(16546),y=e(80710),b=e(74614),p=e(82753);(function(s){s["Assets"]="assets",s["Custom"]="custom"})(a||(a={}));let _=class extends((0,r.Wr)(u.Z,A.Z,h.tA.LoadingMixin)){constructor(...s){super(...s),(0,n.Z)(this,"tokenTabs",[a.Assets,a.Custom]),(0,n.Z)(this,"tabValue",d()(this.tokenTabs)),(0,n.Z)(this,"connected",void 0),(0,n.Z)(this,"asset",void 0),(0,n.Z)(this,"accountAssetsOnly",void 0),(0,n.Z)(this,"notNullBalanceOnly",void 0),(0,n.Z)(this,"disabledCustom",void 0),(0,n.Z)(this,"isMainTokenProviders",void 0),(0,n.Z)(this,"shouldBalanceBeHidden",void 0),(0,n.Z)(this,"libraryTheme",void 0),(0,n.Z)(this,"whitelistAssets",void 0),(0,n.Z)(this,"nonWhitelistAssets",void 0),(0,n.Z)(this,"nonWhitelistAccountAssets",void 0),(0,n.Z)(this,"isLoggedIn",void 0),(0,n.Z)(this,"whitelist",void 0),(0,n.Z)(this,"whitelistIdsBySymbol",void 0),(0,n.Z)(this,"accountAssetsAddressTable",void 0),(0,n.Z)(this,"addAsset",void 0)}async handleTabReset(s){s&&(this.tabValue=d()(this.tokenTabs))}get whitelistAssetsList(){const s=this.isMainTokenProviders?this.getMainSources():this.whitelistAssets,{asset:t,accountAssetsAddressTable:e,notNullBalanceOnly:a,accountAssetsOnly:i}=this;return this.getAssetsWithBalances({assets:s,accountAssetsAddressTable:e,notNullBalanceOnly:a,accountAssetsOnly:i,excludeAsset:t}).sort(this.sortByBalance())}get filteredWhitelistTokens(){return this.filterAssetsByQuery(this.whitelistAssetsList)(this.searchQuery)}get isCustomTabActive(){return this.tabValue===a.Custom}get shouldAssetsListBeShown(){return!(this.isCustomTabActive&&!this.activeAssetsList.length&&this.searchQuery)}get assetsListSize(){return this.isCustomTabActive?5:6}get activeAssetsList(){return this.isCustomTabActive?this.sortedNonWhitelistAccountAssets:this.filteredWhitelistTokens}get activeSearchPlaceholder(){return this.t(this.isCustomTabActive?"selectToken.custom.search":"selectToken.searchPlaceholder")}get alreadyAttached(){return!!this.nonWhitelistAccountAssets[this.searchQuery]}get customAsset(){return this.nonWhitelistAssets[this.searchQuery]??null}get sortedNonWhitelistAccountAssets(){const{asset:s,accountAssetsAddressTable:t,notNullBalanceOnly:e,accountAssetsOnly:a}=this;return this.getAssetsWithBalances({assets:Object.values(this.nonWhitelistAccountAssets),accountAssetsAddressTable:t,notNullBalanceOnly:e,accountAssetsOnly:a,excludeAsset:s}).sort(this.sortByBalance())}getMainSources(){const s=[p.XOR.address,p.XSTUSD.address];return this.whitelistAssets.filter((t=>s.includes(t.address)))}async handleAddAsset(){this.customAsset&&(this.isLoggedIn?(await this.withLoading((async()=>await this.addAsset((this.customAsset||{}).address))),this.handleClearSearch()):this.selectAsset(this.customAsset))}handleRemoveCustomAsset(s){h.hi.assets.removeAccountAsset(s.address)}handleTabChange(s){this.tabValue=s,this.handleClearSearch()}};(0,l.__decorate)([(0,r.fI)({default:!1,type:Boolean})],_.prototype,"connected",void 0),(0,l.__decorate)([(0,r.fI)({default:v.u8,type:Object})],_.prototype,"asset",void 0),(0,l.__decorate)([(0,r.fI)({default:!1,type:Boolean})],_.prototype,"accountAssetsOnly",void 0),(0,l.__decorate)([(0,r.fI)({default:!1,type:Boolean})],_.prototype,"notNullBalanceOnly",void 0),(0,l.__decorate)([(0,r.fI)({default:!1,type:Boolean})],_.prototype,"disabledCustom",void 0),(0,l.__decorate)([(0,r.fI)({default:!1,type:Boolean})],_.prototype,"isMainTokenProviders",void 0),(0,l.__decorate)([b.SB.wallet.settings.shouldBalanceBeHidden],_.prototype,"shouldBalanceBeHidden",void 0),(0,l.__decorate)([b.Yn.libraryTheme],_.prototype,"libraryTheme",void 0),(0,l.__decorate)([b.Yn.assets.whitelistAssets],_.prototype,"whitelistAssets",void 0),(0,l.__decorate)([b.Yn.assets.nonWhitelistDivisibleAssets],_.prototype,"nonWhitelistAssets",void 0),(0,l.__decorate)([b.Yn.assets.nonWhitelistDivisibleAccountAssets],_.prototype,"nonWhitelistAccountAssets",void 0),(0,l.__decorate)([b.Yn.wallet.account.isLoggedIn],_.prototype,"isLoggedIn",void 0),(0,l.__decorate)([b.Yn.wallet.account.whitelist],_.prototype,"whitelist",void 0),(0,l.__decorate)([b.Yn.wallet.account.whitelistIdsBySymbol],_.prototype,"whitelistIdsBySymbol",void 0),(0,l.__decorate)([b.Yn.wallet.account.accountAssetsAddressTable],_.prototype,"accountAssetsAddressTable",void 0),(0,l.__decorate)([b.aD.wallet.account.addAsset],_.prototype,"addAsset",void 0),(0,l.__decorate)([(0,r.RL)("visible")],_.prototype,"handleTabReset",null),_=(0,l.__decorate)([(0,r.wA)({components:{DialogBase:h.wx.DialogBase,SelectAssetList:(0,y.kF)(v.z8.SelectAssetList),TokenAddress:h.wx.TokenAddress,SearchInput:h.wx.SearchInput,AddAssetDetailsCard:h.wx.AddAssetDetailsCard}})],_);var m=_,w=m,T=e(1001),g=(0,T.Z)(w,i,o,!1,null,"5469f74b",null),B=g.exports}}]);