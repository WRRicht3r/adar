"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[3106],{3106:function(t,e,s){s.r(e),s.d(e,{default:function(){return _}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isSpinner||!t.fileName,expression:"isSpinner || !fileName"}],staticClass:"container route-assets-processing-template"},[s("div",{staticClass:"route-assets__page-header-title"},[t._v("Process routing template")]),s("div",{staticClass:"route-assets__page-header-description"},[t._v("Our system is processing your uploaded Routing Template")]),!t.isSpinner&&t.fileName?s("div",{staticClass:"content-container"},[s("div",{staticClass:"route-assets-processing-template__file-info"},[s("div",[s("svg",{staticClass:"file-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 2C4.79086 2 3 3.79086 3 6V18C3 20.2091 4.79086 22 7 22H17C19.2091 22 21 20.2091 21 18V7.65685C21 6.59599 20.5786 5.57857 19.8284 4.82843L18.1716 3.17157C17.4214 2.42143 16.404 2 15.3431 2H7ZM8 6.25C7.58579 6.25 7.25 6.58579 7.25 7C7.25 7.41421 7.58579 7.75 8 7.75H16C16.4142 7.75 16.75 7.41421 16.75 7C16.75 6.58579 16.4142 6.25 16 6.25H8ZM7.25 12C7.25 11.5858 7.58579 11.25 8 11.25H16C16.4142 11.25 16.75 11.5858 16.75 12C16.75 12.4142 16.4142 12.75 16 12.75H8C7.58579 12.75 7.25 12.4142 7.25 12ZM8 16.25C7.58579 16.25 7.25 16.5858 7.25 17C7.25 17.4142 7.58579 17.75 8 17.75H12C12.4142 17.75 12.75 17.4142 12.75 17C12.75 16.5858 12.4142 16.25 12 16.25H8Z"}})])]),s("div",[s("div",[t._v(t._s(t.fileName))]),s("div",{staticClass:"metadata"},[t._v(t._s(t.lastModified+" Â· "+t.fileSize+" kb"))])])]),s("div",{staticClass:"fields-container"},t._l(t.fields,(function(e,i){return s("div",{key:i},[s("div",{staticClass:"field"},[s("p",{staticClass:"field__label"},[t._v(t._s(e.title))]),s("div",{staticClass:"field__status",class:e.status.correct?"field__status_success":"field__status_error"},[s("div",[t._v(t._s(e.status.title))]),s("div",[s("s-icon",{staticClass:"icon-status",attrs:{name:e.status.correct?"basic-check-marks-24":"basic-clear-X-xs-24"}})],1)])]),s("s-divider")],1)})),0),s("div",{staticClass:"buttons-container"},[s("s-button",{staticClass:"s-typography-button--big",attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.nextButtonAction.apply(null,arguments)}}},[t._v(" "+t._s(t.nextButtonTitle)+" ")]),s("s-button",{staticClass:"s-typography-button--big",attrs:{type:"secondary"},on:{click:function(e){return e.stopPropagation(),t.cancelButtonAction.apply(null,arguments)}}},[t._v(" "+t._s("CANCEL PROCESSING")+" ")])],1)]):t._e(),s("fix-issues-dialog",{attrs:{visible:t.fixIssuesDialog,recipient:t.incorrectRecipients[t.currentIssueIdx],currentIssueIdx:t.currentIssueIdx,totalIssuesCount:t.incorrectRecipients.length},on:{"update:visible":function(e){t.fixIssuesDialog=e},changeIssueIdx:t.changeIssueIdx}})],1)},n=[],r=s(60760),a=s(70655),o=s(53545),c=s(32806),u=s(74614),l=s(9195),d=s(50592),p=s(67748);let h=class extends((0,o.Wr)(c.Z)){constructor(...t){super(...t),(0,r.Z)(this,"file",void 0),(0,r.Z)(this,"recipients",void 0),(0,r.Z)(this,"nextStage",void 0),(0,r.Z)(this,"previousStage",void 0),(0,r.Z)(this,"cancelProcessing",void 0),(0,r.Z)(this,"fixIssuesDialog",!1),(0,r.Z)(this,"isSpinner",!0),(0,r.Z)(this,"currentIssueIdx",0)}created(){setTimeout((()=>{this.isSpinner=!1}),1e3)}get fields(){return[{title:"Recipients",status:this.recipientsStatus},{title:"Assets",status:this.assetsStatus},{title:"USD Equivalent",status:this.usdStatus},{title:"Wallets",status:this.walletsStatus},{title:"Estimated Amounts",status:this.amountsStatus}]}get recipientsStatus(){return{title:`${this.recipientsCount} payeers`,correct:!0}}get assetsStatus(){const t=this.invalidAssetsCount>0;return{title:t?`${this.invalidAssetsCount} issues found`:`${this.assetsCount} assets`,correct:!t}}get usdStatus(){const t=this.incorrectUSD>0;return{title:t?`${this.incorrectUSD} issues found`:"Calculated",correct:!t}}get walletsStatus(){const t=this.invalidWalletCount>0;return{title:t?`${this.invalidWalletCount} issues found`:`${this.recipientsCount} wallets`,correct:!t}}get amountsStatus(){const t=this.incorrectAmountCount>0;return{title:t?`${this.incorrectAmountCount} issues found`:"Calculated",correct:!t}}get fileName(){return this.file?.name}get lastModified(){const t={month:"short",day:"numeric"};return new Date(this.file?.lastModified||0).toLocaleDateString("en-US",t)}get fileSize(){return((this.file?.size||1)/1024).toFixed(2)}get recipientsCount(){return this.recipients?.length}get assetsCount(){return new Set(this.recipients?.map((t=>t.asset?.symbol))).size}get invalidAssetsCount(){return this.recipients?.filter((t=>!l.Z.asset(t.asset))).length}get invalidWalletCount(){return this.recipients?.filter((t=>!l.Z.wallet(t.wallet))).length}get incorrectRecipients(){return this.recipients.filter((t=>!this.validateRecipient(t)))}get incorrectRecipientsLength(){return this.incorrectRecipients.length}get incorrectUSD(){return this.recipients.filter((t=>!l.Z.usd(t.usd))).length}get incorrectAmountCount(){return this.recipients.filter((t=>!l.Z.amount(t.amount))).length}get nextButtonTitle(){return this.incorrectRecipients.length>0?"fix issues":"continue"}nextButtonAction(){this.incorrectRecipients.length>0?this.fixIssuesDialog=!0:this.nextStage()}cancelButtonAction(){this.cancelProcessing()}validateRecipient(t){return l.Z.validate(t)}changeIssueIdx(t){this.currentIssueIdx=t}onIssueFixedChanged(t){t<1?this.fixIssuesDialog=!1:this.currentIssueIdx<=t&&(this.currentIssueIdx=t-1)}};(0,a.__decorate)([u.Yn.routeAssets.file],h.prototype,"file",void 0),(0,a.__decorate)([u.Yn.routeAssets.recipients],h.prototype,"recipients",void 0),(0,a.__decorate)([u.aD.routeAssets.processingNextStage],h.prototype,"nextStage",void 0),(0,a.__decorate)([u.aD.routeAssets.processingPreviousStage],h.prototype,"previousStage",void 0),(0,a.__decorate)([u.aD.routeAssets.cancelProcessing],h.prototype,"cancelProcessing",void 0),(0,a.__decorate)([(0,o.RL)("incorrectRecipientsLength",{deep:!0})],h.prototype,"onIssueFixedChanged",null),h=(0,a.__decorate)([(0,o.wA)({components:{FixIssuesDialog:(0,p.y)(d.EC.RouteAssetsFixIssuesDialog)}})],h);var g=h,v=g,C=s(1001),f=(0,C.Z)(v,i,n,!1,null,"5490a7b9",null),_=f.exports}}]);