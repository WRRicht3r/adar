"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[1830],{61830:function(e,t,o){o.r(t),o.d(t,{default:function(){return E}});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("s-form",{ref:"nodeForm",staticClass:"node-info s-flex",attrs:{model:e.nodeModel,rules:e.validationRules},nativeOn:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[o("generic-page-header",{attrs:{"has-button-back":"",title:e.title},on:{back:function(t){return t.stopPropagation(),e.handleBack.apply(null,arguments)}}},[e.existing&&e.removable?[o("s-button",{attrs:{type:"action",icon:"basic-trash-24"},on:{click:function(t){return e.removeNode(e.nodeModel)}}})]:e._e()],2),o("s-form-item",{attrs:{prop:"name"}},[o("s-input",{staticClass:"node-info-input s-typography-input-field",attrs:{placeholder:e.t("nameText"),maxlength:128,disabled:e.existing&&!e.removable},model:{value:e.nodeModel.name,callback:function(t){e.$set(e.nodeModel,"name",t)},expression:"nodeModel.name"}})],1),o("s-form-item",{attrs:{prop:"address"}},[o("s-input",{staticClass:"node-info-input s-typography-input-field",attrs:{placeholder:e.t("addressText"),disabled:e.existing&&!e.removable},on:{change:e.changeNodeAddress},model:{value:e.nodeModel.address,callback:function(t){e.$set(e.nodeModel,"address",t)},expression:"nodeModel.address"}})],1),o("s-button",{staticClass:"node-info-button s-typography-button--large",attrs:{"native-type":"submit",type:e.buttonType,disabled:e.buttonDisabled,loading:e.loading}},[e._v(" "+e._s(e.buttonText)+" ")]),o("a",{staticClass:"node-info-button",attrs:{href:e.tutorialLink,target:"_blank",rel:"noreferrer noopener"}},[o("s-button",{staticClass:"node-info-tutorial-button s-typography-button--big",attrs:{type:"tertiary",icon:"question-circle-16","icon-position":"right"}},[e._v(" "+e._s(e.t("selectNodeDialog.howToSetupOwnNode"))+" ")])],1)],1)},a=[],s=o(60760),d=o(70655),i=o(53545),r=o(80710),l=o(16546);const c="wss?:\\/\\/",u="(?::([1-9][0-9]{0,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5]))",p="(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)*[a-z0-9][a-z0-9-]{0,61}[a-z0-9]",h="\\/[a-z0-9-_]+",g="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)",f=`${g}(?:\\.${g}){3}`,m=e=>`^${e}`,b=e=>`^${e}$`,y=new RegExp(m(c)),v=new RegExp(b(`${p}${u}?(${h})*/?`)),_=new RegExp(b(`${f}${u}?(${h})*/?`));var x=o(14692),N=o(32806),k=o(25108);const w=e=>(t,o,n)=>{if(!o)return n(new Error(e("selectNodeDialog.messages.emptyAddress")));if(!y.test(o))return n(new Error(e("selectNodeDialog.messages.incorrectProtocol")));const a=o.replace(y,"");if(!v.test(a)&&!_.test(a))return n(new Error(e("selectNodeDialog.messages.incorrectAddress")));n()},D=e=>"/"===e.charAt(e.length-1)?e.slice(0,-1):e;let M=class extends((0,i.Wr)(N.Z)){constructor(...e){super(...e),(0,s.Z)(this,"handleBack",void 0),(0,s.Z)(this,"handleNode",void 0),(0,s.Z)(this,"removeNode",void 0),(0,s.Z)(this,"node",void 0),(0,s.Z)(this,"existing",void 0),(0,s.Z)(this,"loading",void 0),(0,s.Z)(this,"removable",void 0),(0,s.Z)(this,"connected",void 0),(0,s.Z)(this,"tutorialLink",l.yX.nodes.tutorial),(0,s.Z)(this,"validationRules",{name:[{required:!0,message:this.t("selectNodeDialog.messages.emptyName"),trigger:"blur"}],address:[{validator:w(this.t),trigger:"blur"}]}),(0,s.Z)(this,"nodeModel",{...x.X})}created(){this.nodeModel=Object.keys(x.X).reduce(((e,t)=>({...e,[t]:this.node[t]??x.X[t]})),{})}get buttonText(){return this.existing?this.nodeDataChanged?this.t("selectNodeDialog.updateNode"):this.connected?this.t("selectNodeDialog.connected"):this.t("selectNodeDialog.select"):this.t("selectNodeDialog.addNode")}get buttonDisabled(){return this.connected&&!this.nodeDataChanged}get buttonType(){return this.nodeDataChanged||!this.existing?"primary":"tertiary"}get title(){return this.existing?this.node.title:this.t("selectNodeDialog.customNode")}get nodeDataChanged(){return this.nodeModel.name!==this.node.name||this.nodeModel.address!==this.node.address}changeNodeAddress(e){this.nodeModel.address=e.trim().toLowerCase()}async submitForm(){try{await this.$refs.nodeForm.validate();const e={...this.nodeModel,address:D(this.nodeModel.address)};this.handleNode(e,!this.existing||this.nodeDataChanged)}catch(e){k.warn(e)}}};(0,d.__decorate)([(0,i.fI)({default:()=>{},type:Function})],M.prototype,"handleBack",void 0),(0,d.__decorate)([(0,i.fI)({default:()=>{},type:Function})],M.prototype,"handleNode",void 0),(0,d.__decorate)([(0,i.fI)({default:()=>{},type:Function})],M.prototype,"removeNode",void 0),(0,d.__decorate)([(0,i.fI)({default:()=>({}),type:Object})],M.prototype,"node",void 0),(0,d.__decorate)([(0,i.fI)({default:!1,type:Boolean})],M.prototype,"existing",void 0),(0,d.__decorate)([(0,i.fI)({default:!1,type:Boolean})],M.prototype,"loading",void 0),(0,d.__decorate)([(0,i.fI)({default:!1,type:Boolean})],M.prototype,"removable",void 0),(0,d.__decorate)([(0,i.fI)({default:!1,type:Boolean})],M.prototype,"connected",void 0),M=(0,d.__decorate)([(0,i.wA)({components:{GenericPageHeader:(0,r.kF)(l.z8.GenericPageHeader),ExternalLink:(0,r.kF)(l.z8.ExternalLink)}})],M);var $=M,C=$,Z=o(1001),z=(0,Z.Z)(C,n,a,!1,null,"5d162208",null),E=z.exports}}]);