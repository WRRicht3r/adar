"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[4418],{54418:function(t,e,o){o.r(e),o.d(e,{default:function(){return v}});var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading,expression:"parentLoading"}],staticClass:"container el-form--pool"},[o("generic-page-header",{staticClass:"page-header--pool",attrs:{title:t.t("exchange.Pool"),tooltip:t.t("pool.description")}}),o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading,expression:"parentLoading"}],staticClass:"pool-wrapper"},[t.isLoggedIn?!t.accountLiquidity.length||t.parentLoading?o("p",{key:"pools-empty",staticClass:"pool-info-container pool-info-container--empty"},[t._v(" "+t._s(t.t("pool.liquidityNotFound"))+" ")]):o("s-collapse",{key:"has-pools",staticClass:"pool-list",attrs:{borders:!0},on:{change:t.updateActiveCollapseItems}},t._l(t.accountLiquidityData,(function(e){return o("s-collapse-item",{key:e.address,staticClass:"pool-info-container",attrs:{name:e.address},scopedSlots:t._u([{key:"title",fn:function(){return[o("pair-token-logo",{attrs:{"first-token":e.firstAsset,"second-token":e.secondAsset,size:"small"}}),o("div",{staticClass:"pool-info-container-block"},[o("h3",{staticClass:"pool-info-container__title"},[t._v(" "+t._s(e.title)+" ")]),t._t("title-append",null,null,{liquidity:e,activeCollapseItems:t.activeCollapseItems})],2)]},proxy:!0}],null,!0)},[o("pool-info",{scopedSlots:t._u([{key:"buttons",fn:function(){return[o("s-button",{staticClass:"s-typography-button--medium",attrs:{type:"secondary"},on:{click:function(o){return t.handleAddLiquidity(e.firstAddress,e.secondAddress)}}},[t._v(" "+t._s(t.t("pool.addLiquidity"))+" ")]),o("s-button",{staticClass:"s-typography-button--medium",attrs:{type:"secondary"},on:{click:function(o){return t.handleRemoveLiquidity(e.firstAddress,e.secondAddress)}}},[t._v(" "+t._s(t.t("pool.removeLiquidity"))+" ")])]},proxy:!0}],null,!0)},[o("info-line",{attrs:{"is-formatted":"","value-can-be-hidden":"",label:t.t("pool.pooledToken",{tokenSymbol:e.firstAssetSymbol}),value:e.firstBalanceFormatted,"fiat-value":e.firstBalanceFiat}}),o("info-line",{attrs:{"is-formatted":"","value-can-be-hidden":"",label:t.t("pool.pooledToken",{tokenSymbol:e.secondAssetSymbol}),value:e.secondBalanceFormatted,"fiat-value":e.secondBalanceFiat}}),o("info-line",{attrs:{"value-can-be-hidden":"",label:t.t("pool.poolShare"),value:e.poolShareFormatted}}),e.apyFormatted?o("info-line",{attrs:{label:t.t("pool.strategicBonusApy"),value:e.apyFormatted}}):t._e()],1),t._t("append",null,null,e)],2)})),1):o("p",{key:"not-logged",staticClass:"pool-info-container pool-info-container--empty"},[t._v(" "+t._s(t.t("pool.connectToWallet"))+" ")])],1),t.isLoggedIn?o("s-button",{staticClass:"el-button--add-liquidity s-typography-button--large",attrs:{type:"primary"},on:{click:t.handleAddLiquidity}},[t._v(" "+t._s(t.t("pool.addLiquidity"))+" ")]):o("s-button",{staticClass:"s-typography-button--large",attrs:{type:"primary"},on:{click:t.handleConnectWallet}},[t._v(" "+t._s(t.t("pool.connectWallet"))+" ")])],1)},a=[],i=o(60760),n=o(70655),l=o(53545),r=o(37365),d=o(32806),c=o(24380),p=o(80710),u=o(16546),m=o(74614);let y=class extends((0,l.Wr)(r.tA.FormattedAmountMixin,r.tA.LoadingMixin,d.Z,c.Z)){constructor(...t){super(...t),(0,i.Z)(this,"FontSizeRate",r.it.FontSizeRate),(0,i.Z)(this,"FontWeightRate",r.it.FontWeightRate),(0,i.Z)(this,"accountLiquidity",void 0),(0,i.Z)(this,"isLoggedIn",void 0),(0,i.Z)(this,"getAsset",void 0),(0,i.Z)(this,"activeCollapseItems",[])}get accountLiquidityData(){return this.accountLiquidity.map((t=>{const e=this.getAsset(t.firstAddress),o=this.getAssetSymbol(e),s=this.getAsset(t.secondAddress),a=this.getAssetSymbol(s);return{...t,firstAsset:e,firstAssetSymbol:o,firstBalanceFormatted:this.formatCodecNumber(t.firstBalance,t.decimals),firstBalanceFiat:e?this.getFiatAmountByCodecString(t.firstBalance,e):"0",secondAsset:s,secondAssetSymbol:a,secondBalanceFormatted:this.formatCodecNumber(t.secondBalance,t.decimals),secondBalanceFiat:s?this.getFiatAmountByCodecString(t.secondBalance,s):"0",poolShareFormatted:`${this.formatStringValue(t.poolShare)}%`,apyFormatted:this.getStrategicBonusApy(t.firstAddress,t.secondAddress),title:this.getPairTitle(o,a)}}))}updateActiveCollapseItems(t){this.activeCollapseItems=t}handleAddLiquidity(t,e){if(!t&&!e)return void p.ZP.push({name:u.sn.AddLiquidity});const o=t||"",s=e||"";p.ZP.push({name:u.sn.AddLiquidity,params:{firstAddress:o,secondAddress:s}})}handleRemoveLiquidity(t,e){p.ZP.push({name:u.sn.RemoveLiquidity,params:{firstAddress:t,secondAddress:e}})}handleConnectWallet(){p.ZP.push({name:u.sn.Wallet})}getAssetSymbol(t){return t?.symbol??this.t("pool.unknownAsset")}getPairTitle(t,e){return t&&e?`${t}-${e}`:""}getStrategicBonusApy(t,e){const o=this.getPoolApy(t,e);return o?`${this.getFPNumberFromCodec(o).mul(this.Hundred).toLocaleString()}%`:""}};(0,n.__decorate)([m.SB.pool.accountLiquidity],y.prototype,"accountLiquidity",void 0),(0,n.__decorate)([m.Yn.wallet.account.isLoggedIn],y.prototype,"isLoggedIn",void 0),(0,n.__decorate)([m.Yn.assets.assetDataByAddress],y.prototype,"getAsset",void 0),y=(0,n.__decorate)([(0,l.wA)({components:{GenericPageHeader:(0,p.kF)(u.z8.GenericPageHeader),PairTokenLogo:(0,p.kF)(u.z8.PairTokenLogo),PoolInfo:(0,p.kF)(u.z8.PoolInfo),FormattedAmount:r.wx.FormattedAmount,InfoLine:r.wx.InfoLine}})],y);var g=y,h=g,f=o(1001),A=(0,f.Z)(h,s,a,!1,null,"af9828f6",null),v=A.exports}}]);