"use strict";(self["webpackChunkpolkaswap_exchange_web"]=self["webpackChunkpolkaswap_exchange_web"]||[]).push([[3064],{64568:function(t,e,s){var o;s.d(e,{a:function(){return o}}),function(t){t["LineIcon"]="line-icon",t["CandleIcon"]="candle-icon"}(o||(o={}))},68006:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(36930),n=s(63471),c=s(85530),d=s(42024),l=s(74614),h=s(12759),u=s(10909),p=s(25108);const v=(t,e)=>{const s=new Error(t);return s.name=e,s};let m=class extends((0,r.Wr)(h.Z,u.Z)){constructor(...t){super(...t),(0,o.Z)(this,"moonpayApi",void 0),(0,o.Z)(this,"bridgeTransactionData",void 0),(0,o.Z)(this,"evmBalance",void 0),(0,o.Z)(this,"soraNetwork",void 0),(0,o.Z)(this,"moonpayApiKey",void 0),(0,o.Z)(this,"setConfirmationVisibility",void 0),(0,o.Z)(this,"setNotificationVisibility",void 0),(0,o.Z)(this,"setNotificationKey",void 0),(0,o.Z)(this,"setBridgeTxData",void 0),(0,o.Z)(this,"getTransactionTranserData",void 0),(0,o.Z)(this,"findRegisteredAssetByExternalAddress",void 0)}async prepareEvmNetwork(t=a.BridgeNetworks.ETH_NETWORK_ID){this.setEvmNetwork(t),await this.setEvmNetworkType()}initMoonpayApi(){this.moonpayApi.publicKey=this.moonpayApiKey,this.moonpayApi.soraNetwork=this.soraNetwork??""}async prepareMoonpayTxForBridgeTransfer(t,e=!1){try{const s=await this.prepareBridgeHistoryItemData(t);this.setBridgeTxData({data:s,startBridgeButtonVisibility:e}),this.setNotificationVisibility(!1),this.setConfirmationVisibility(!0)}catch(s){await this.handleBridgeInitError(s)}}async getBridgeMoonpayTransaction(){if(!this.bridgeTransactionData)throw new Error("bridgeTransactionData is empty");this.setHistory();const t=this.getBridgeHistoryItemByMoonpayId(this.bridgeTransactionData.payload.moonpayId);if(!t){const t=await this.generateHistoryItem(this.bridgeTransactionData);return t}return t}getBridgeHistoryItemByMoonpayId(t){return this.history.find((e=>e.payload?.moonpayId===t))}async startBridgeForMoonpayTransaction(){const t=await this.getBridgeMoonpayTransaction();await this.showHistory(t.id),this.setBridgeTxData()}async prepareBridgeHistoryItemData(t){return await this.withLoading((async()=>{await this.prepareEvmNetwork();const e=await this.getTransactionTranserData(t.cryptoTransactionId);if(!e)throw v(`Cannot fetch transaction data: ${t.cryptoTransactionId}`,d.u.TransactionError);const s=await n.ZP.checkAccountIsConnected(e.to);if(!s)throw v(`Account for transfer is not connected: ${e.to}`,d.u.AccountAddressError);const o=await this.findRegisteredAssetByExternalAddress(e.address);if(!o)throw v(`Asset is not registered: ethereum address ${e.address}`,d.u.SupportError);const i=await n.ZP.fetchEvmNetworkFee(o.address,!1),r=!(0,c.lV)(this.evmBalance,i);if(!r)throw v("Insufficient ETH for fee",d.u.FeeError);const l=(0,c.MN)(o,i,!0),h=Math.min(Number(l),Number(e.amount));if(h<=0)throw v("Insufficient amount",d.u.AmountError);return{type:a.Operation.EthBridgeIncoming,amount:String(h),symbol:o.symbol,assetAddress:o.address,soraNetworkFee:this.getSoraNetworkFee(a.Operation.EthBridgeIncoming),ethereumNetworkFee:i,externalNetwork:a.BridgeNetworks.ETH_NETWORK_ID,to:e.to,payload:{moonpayId:t.id}}}))}async showNotification(t){this.setNotificationKey(t),this.setNotificationVisibility(!0)}async handleBridgeInitError(t){Object.values(d.u).includes(t.name)?await this.showNotification(t.name):p.error(t)}};(0,i.__decorate)([l.SB.moonpay.api],m.prototype,"moonpayApi",void 0),(0,i.__decorate)([l.SB.moonpay.bridgeTransactionData],m.prototype,"bridgeTransactionData",void 0),(0,i.__decorate)([l.SB.web3.evmBalance],m.prototype,"evmBalance",void 0),(0,i.__decorate)([l.SB.wallet.settings.soraNetwork],m.prototype,"soraNetwork",void 0),(0,i.__decorate)([l.Yn.settings.moonpayApiKey],m.prototype,"moonpayApiKey",void 0),(0,i.__decorate)([l.QF.moonpay.setConfirmationVisibility],m.prototype,"setConfirmationVisibility",void 0),(0,i.__decorate)([l.QF.moonpay.setNotificationVisibility],m.prototype,"setNotificationVisibility",void 0),(0,i.__decorate)([l.QF.moonpay.setNotificationKey],m.prototype,"setNotificationKey",void 0),(0,i.__decorate)([l.QF.moonpay.setBridgeTxData],m.prototype,"setBridgeTxData",void 0),(0,i.__decorate)([l.aD.moonpay.getTransactionTranserData],m.prototype,"getTransactionTranserData",void 0),(0,i.__decorate)([l.aD.moonpay.findRegisteredAssetByExternalAddress],m.prototype,"findRegisteredAssetByExternalAddress",void 0),m=(0,i.__decorate)([r.wA],m),e["Z"]=m},42024:function(t,e,s){var o;s.d(e,{u:function(){return o}}),function(t){t["Success"]="success",t["AccountAddressError"]="accountAddressError",t["AmountError"]="amountError",t["FeeError"]="feeError",t["SupportError"]="supportError",t["TransactionError"]="transactionError"}(o||(o={}))},14692:function(t,e,s){s.d(e,{X:function(){return o}});const o={chain:"",name:"",address:""}},33312:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(37365),n=s(36930),c=s(82753),d=s(74614),l=s(32806);let h=class extends((0,r.Wr)(l.Z,a.tA.FormattedAmountMixin)){constructor(...t){super(...t),(0,o.Z)(this,"XOR_SYMBOL",c.XOR.symbol),(0,o.Z)(this,"networkFees",void 0),(0,o.Z)(this,"firstTokenValue",void 0),(0,o.Z)(this,"secondTokenValue",void 0),(0,o.Z)(this,"isAvailable",void 0),(0,o.Z)(this,"firstToken",void 0),(0,o.Z)(this,"secondToken",void 0),(0,o.Z)(this,"price",void 0),(0,o.Z)(this,"priceReversed",void 0)}get firstTokenSymbol(){return this.firstToken?.symbol??""}get secondTokenSymbol(){return this.secondToken?.symbol??""}get networkFee(){const t=this.isAvailable?n.Operation.AddLiquidity:n.Operation.CreatePair;return this.networkFees[t]}get formattedFee(){return this.formatCodecNumber(this.networkFee)}get formattedPrice(){return this.formatStringValue(this.price)}get formattedPriceReversed(){return this.formatStringValue(this.priceReversed)}get emptyAssets(){if(!this.firstTokenValue&&!this.secondTokenValue)return!0;const t=new n.FPNumber(this.firstTokenValue),e=new n.FPNumber(this.secondTokenValue);return t.isNaN()||t.isZero()||e.isNaN()||e.isZero()}};(0,i.__decorate)([d.SB.wallet.settings.networkFees],h.prototype,"networkFees",void 0),(0,i.__decorate)([d.SB.addLiquidity.firstTokenValue],h.prototype,"firstTokenValue",void 0),(0,i.__decorate)([d.SB.addLiquidity.secondTokenValue],h.prototype,"secondTokenValue",void 0),(0,i.__decorate)([d.SB.addLiquidity.isAvailable],h.prototype,"isAvailable",void 0),(0,i.__decorate)([d.Yn.addLiquidity.firstToken],h.prototype,"firstToken",void 0),(0,i.__decorate)([d.Yn.addLiquidity.secondToken],h.prototype,"secondToken",void 0),(0,i.__decorate)([d.Yn.addLiquidity.price],h.prototype,"price",void 0),(0,i.__decorate)([d.Yn.addLiquidity.priceReversed],h.prototype,"priceReversed",void 0),h=(0,i.__decorate)([r.wA],h),e["Z"]=h},12759:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(36930),n=s(37365),c=s(80710),d=s(16546),l=s(28335),h=s(74614);let u=class extends((0,r.Wr)(n.tA.LoadingMixin)){constructor(...t){super(...t),(0,o.Z)(this,"history",void 0),(0,o.Z)(this,"networkFees",void 0),(0,o.Z)(this,"prevRoute",void 0),(0,o.Z)(this,"setSoraToEvm",void 0),(0,o.Z)(this,"setHistoryPage",void 0),(0,o.Z)(this,"setHistoryId",void 0),(0,o.Z)(this,"setHistory",void 0),(0,o.Z)(this,"setAssetAddress",void 0),(0,o.Z)(this,"generateHistoryItem",void 0)}getSoraNetworkFee(t){return this.isOutgoingType(t)?this.networkFees[a.Operation.EthBridgeOutgoing]:d.m8}isOutgoingType(t){return t!==a.Operation.EthBridgeIncoming}async showHistory(t){t||this.handleBack(),await this.withLoading((async()=>{const e=l.Zc.getHistory(t);e?.id?(this.setSoraToEvm(this.isOutgoingType(e.type)),await this.setAssetAddress(e.assetAddress),this.setHistoryId(e.id),this.navigateToBridgeTransaction()):this.handleBack()}))}navigateToBridgeTransaction(){c.ZP.push({name:d.sn.BridgeTransaction})}handleBack(){c.ZP.push({name:this.prevRoute})}};(0,i.__decorate)([h.SB.bridge.history],u.prototype,"history",void 0),(0,i.__decorate)([h.SB.wallet.settings.networkFees],u.prototype,"networkFees",void 0),(0,i.__decorate)([h.SB.router.prev],u.prototype,"prevRoute",void 0),(0,i.__decorate)([h.QF.bridge.setSoraToEvm],u.prototype,"setSoraToEvm",void 0),(0,i.__decorate)([h.QF.bridge.setHistoryPage],u.prototype,"setHistoryPage",void 0),(0,i.__decorate)([h.QF.bridge.setHistoryId],u.prototype,"setHistoryId",void 0),(0,i.__decorate)([h.QF.bridge.setHistory],u.prototype,"setHistory",void 0),(0,i.__decorate)([h.aD.bridge.setAssetAddress],u.prototype,"setAssetAddress",void 0),(0,i.__decorate)([h.aD.bridge.generateHistoryItem],u.prototype,"generateHistoryItem",void 0),u=(0,i.__decorate)([r.wA],u),e["Z"]=u},63280:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(37365),n=s(36930),c=s(10909),d=s(16546),l=s(74614);let h=class extends((0,r.Wr)(a.tA.LoadingMixin,c.Z)){constructor(...t){super(...t),(0,o.Z)(this,"evmBalance",void 0),(0,o.Z)(this,"evmNetwork",void 0),(0,o.Z)(this,"evmNetworkFee",void 0),(0,o.Z)(this,"evmBlockNumber",void 0),(0,o.Z)(this,"isValidNetworkType",void 0),(0,o.Z)(this,"soraNetworkFee",void 0),(0,o.Z)(this,"xor",void 0)}get evmTokenSymbol(){return this.evmNetwork===n.BridgeNetworks.ENERGY_NETWORK_ID?d.k5.VT:d.k5.ETH}};(0,i.__decorate)([l.SB.web3.evmBalance],h.prototype,"evmBalance",void 0),(0,i.__decorate)([l.SB.web3.evmNetwork],h.prototype,"evmNetwork",void 0),(0,i.__decorate)([l.SB.bridge.evmNetworkFee],h.prototype,"evmNetworkFee",void 0),(0,i.__decorate)([l.SB.bridge.evmBlockNumber],h.prototype,"evmBlockNumber",void 0),(0,i.__decorate)([l.Yn.web3.isValidNetworkType],h.prototype,"isValidNetworkType",void 0),(0,i.__decorate)([l.Yn.bridge.soraNetworkFee],h.prototype,"soraNetworkFee",void 0),(0,i.__decorate)([l.Yn.assets.xor],h.prototype,"xor",void 0),h=(0,i.__decorate)([r.wA],h),e["Z"]=h},68850:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(32806),n=s(25108);let c=class extends((0,r.Wr)(a.Z)){constructor(...t){super(...t),(0,o.Z)(this,"showConfirmDialog",!1)}openConfirmDialog(){this.showConfirmDialog=!0}async handleConfirmDialog(t){try{await t(),this.showConfirmDialog=!1}catch(e){n.error(e),this.$alert(this.t(e.message),{title:this.t("errorText")})}}};c=(0,i.__decorate)([r.wA],c),e["Z"]=c},73331:function(t,e,s){var o=s(60760),i=s(70655),r=s(70538),a=s(53545),n=s(37365),c=s(63637),d=s(91084),l=s(74614),h=s(25108);let u=class extends((0,a.Wr)(n.tA.LoadingMixin,n.tA.PaginationSearchMixin,n.tA.FormattedAmountMixin)){constructor(...t){super(...t),(0,o.Z)(this,"FontSizeRate",n.it.FontSizeRate),(0,o.Z)(this,"FontWeightRate",n.it.FontWeightRate),(0,o.Z)(this,"tableComponent",void 0),(0,o.Z)(this,"exploreQuery",void 0),(0,o.Z)(this,"isAccountItems",void 0),(0,o.Z)(this,"isLoggedIn",void 0),(0,o.Z)(this,"getAsset",void 0),(0,o.Z)(this,"order",""),(0,o.Z)(this,"property","")}resetCurrentPage(){this.currentPage=1}get loadingState(){return this.parentLoading||this.loading}get pricesAvailable(){return Object.keys(this.fiatPriceObject).length>0}get isDefaultSort(){return!(this.order&&this.property)}get preparedItems(){return h.warn('[ExplorePageMixin]: "preparedItems" computed property is not implemented'),[]}get filteredItems(){const t=this.exploreQuery.toLowerCase().trim();if(!t)return this.preparedItems;const e=e=>e?.name?.toLowerCase?.()?.includes?.(t)||e?.symbol?.toLowerCase?.()?.includes?.(t)||e?.address?.toLowerCase?.()===t;return this.preparedItems.filter((t=>e(t)||e(t.poolAsset)||e(t.rewardAsset)||e(t.baseAsset)||e(t.targetAsset)))}get sortedItems(){if(this.isDefaultSort)return this.filteredItems;const t=this.order===c.Sr.ASC;return[...this.filteredItems].sort(((e,s)=>{const o=e[this.property],i=s[this.property];return o===i?0:(t?o>i:o<i)?1:-1}))}get tableItems(){return this.getPageItems(this.sortedItems)}async mounted(){await this.$nextTick(),this.initScrollbar(),await this.updateExploreData()}changeSort({order:t="",property:e=""}={}){this.order=t,this.property=e}handleResetSort(){this.changeSort()}updateExploreData(){h.warn('[ExplorePageMixin]: "updateExploreData" method is not implemented')}initScrollbar(){if(!this.tableComponent)return;const t=r["default"].extend(d.Z),e=new t;e.$mount();const s=this.tableComponent.$refs.table,o=s.$refs.bodyWrapper,i=s.$refs.headerWrapper,a=o.getElementsByTagName("table")[0],n=e.$el.getElementsByClassName("el-scrollbar__wrap")[0],c=e.$el.getElementsByClassName("el-scrollbar__view")[0];o.appendChild(e.$el),c.appendChild(a),this.$watch((()=>e.$children[0].moveX),(()=>{const t=n.scrollLeft;o.scrollLeft=t,i.scrollLeft=t,s.scrollPosition=0===t?"left":"right"}))}};(0,i.__decorate)([(0,a.Rl)("table")],u.prototype,"tableComponent",void 0),(0,i.__decorate)([(0,a.fI)({default:"",type:String})],u.prototype,"exploreQuery",void 0),(0,i.__decorate)([(0,a.fI)({default:!1,type:Boolean})],u.prototype,"isAccountItems",void 0),(0,i.__decorate)([(0,a.RL)("exploreQuery")],u.prototype,"resetCurrentPage",null),(0,i.__decorate)([l.Yn.wallet.account.isLoggedIn],u.prototype,"isLoggedIn",void 0),(0,i.__decorate)([l.Yn.assets.assetDataByAddress],u.prototype,"getAsset",void 0),u=(0,i.__decorate)([a.wA],u),e["Z"]=u},2591:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(85530);let n=class extends r.w3{constructor(...t){super(...t),(0,o.Z)(this,"showWarningFeeDialog",!1),(0,o.Z)(this,"isWarningFeeDialogConfirmed",!1)}confirmNetworkFeeWariningDialog(){this.isWarningFeeDialogConfirmed=!0}openWarningFeeDialog(){this.showWarningFeeDialog=!0}async waitOnNextTxFailureConfirmation(t=500){if(this.showWarningFeeDialog)return await(0,a.gw)(t),await this.waitOnNextTxFailureConfirmation()}};n=(0,i.__decorate)([r.wA],n),e["Z"]=n},41468:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(36930),n=s(63471),c=s(74614);let d=class extends r.w3{constructor(...t){super(...t),(0,o.Z)(this,"networkType",void 0),(0,o.Z)(this,"soraNetwork",void 0),(0,o.Z)(this,"defaultNetworkType",void 0)}formatNetwork(t,e=!1){if(t&&this.soraNetwork)return`sora.${this.soraNetwork}`;const s=e?this.defaultNetworkType:this.networkType;return s?`evm.${s}`:""}getEvmIcon(t){return t===a.BridgeNetworks.ENERGY_NETWORK_ID?"energy":"eth"}getEtherscanLink(t,e=!1){const s=e?this.defaultNetworkType:this.networkType;return s&&t&&s!==n.qc.Private?`https://${s!==n.qc.Mainnet?s+".":""}etherscan.io/tx/${t}`:""}};(0,i.__decorate)([c.SB.web3.networkType],d.prototype,"networkType",void 0),(0,i.__decorate)([c.SB.wallet.settings.soraNetwork],d.prototype,"soraNetwork",void 0),(0,i.__decorate)([c.Yn.web3.defaultNetworkType],d.prototype,"defaultNetworkType",void 0),d=(0,i.__decorate)([r.wA],d),e["Z"]=d},24380:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(37365),n=s(74614);let c=class extends((0,r.Wr)()){constructor(...t){super(...t),(0,o.Z)(this,"poolApyObject",void 0)}getPoolApy(t,e){if(!t||!e)return null;const s=a.hi.poolXyk.getInfo(t,e);return s?.address?this.poolApyObject[s.address]??null:null}};(0,i.__decorate)([n.SB.pool.poolApyObject],c.prototype,"poolApyObject",void 0),c=(0,i.__decorate)([r.wA],c),e["Z"]=c},91898:function(t,e,s){s.d(e,{Z:function(){return p}});var o=s(60760),i=s(70655),r=s(59051),a=s.n(r),n=s(53545),c=s(37365);let d=class extends n.w3{constructor(...t){super(...t),(0,o.Z)(this,"search",void 0)}focusSearchInput(){this.search?.focus()}filterAssetsByQuery(t,e=!1){const s=e?"externalAddress":"address";return e=>{if(!e)return t;const o=e.toLowerCase().trim();return t.filter((t=>t.name?.toLowerCase?.()?.includes?.(o)||t.symbol?.toLowerCase?.()?.includes?.(o)||t[s]?.toLowerCase?.()===o))}}};(0,i.__decorate)([(0,n.Rl)("search")],d.prototype,"search",void 0),d=(0,i.__decorate)([n.wA],d);var l=d,h=s(85530);let u=class extends((0,n.Wr)(c.tA.DialogMixin,l)){constructor(...t){super(...t),(0,o.Z)(this,"query","")}async handleVisibleChangeToFocusSearch(t){await this.$nextTick(),t&&(this.handleClearSearch(),this.focusSearchInput())}get searchQuery(){return this.query.trim().toLowerCase()}handleClearSearch(){this.query=""}sortByBalance(t=!1){const e=e=>t?!+e.externalBalance:a()(e.balance)||!+e.balance.transferable;return(t,s)=>{const o=e(t),i=e(s);return o===i?0:o&&!i?1:-1}}getAssetsWithBalances({assets:t,accountAssetsAddressTable:e,notNullBalanceOnly:s=!1,accountAssetsOnly:o=!1,excludeAsset:i}){return t.reduce(((t,r)=>{if(!r||i&&r.address===i.address)return t;const a=e[r.address];if(o&&!a)return t;const n=a?.balance;if(s&&(0,h.yA)((0,h.rh)(a)))return t;const c={...r,balance:n};return[...t,c]}),[])}selectAsset(t){this.handleClearSearch(),this.$emit("select",t),this.closeDialog()}};(0,i.__decorate)([(0,n.RL)("visible")],u.prototype,"handleVisibleChangeToFocusSearch",null),u=(0,i.__decorate)([n.wA],u);var p=u},94930:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(37365),n=s(74614);let c=class extends((0,r.Wr)(a.tA.LoadingMixin)){constructor(...t){super(...t),(0,o.Z)(this,"isLoggedIn",void 0),(0,o.Z)(this,"nodeIsConnected",void 0),(0,o.Z)(this,"startSubscriptionsList",[]),(0,o.Z)(this,"resetSubscriptionsList",[])}async restartSubscriptions(t){t?await this.updateSubscriptions():await this.resetSubscriptions()}get subscriptionsDataLoading(){return this.parentLoading||this.loading}mounted(){this.updateSubscriptions()}beforeDestroy(){this.resetSubscriptions()}setStartSubscriptions(t){this.startSubscriptionsList=t}setResetSubscriptions(t){this.resetSubscriptionsList=t}async updateSubscriptions(){this.loading||await this.withLoading((async()=>{await this.withParentLoading((async()=>{await Promise.all(this.startSubscriptionsList.map((t=>t?.())))}))}))}async resetSubscriptions(){await Promise.all(this.resetSubscriptionsList.map((t=>t?.())))}};(0,i.__decorate)([n.Yn.wallet.account.isLoggedIn],c.prototype,"isLoggedIn",void 0),(0,i.__decorate)([n.Yn.settings.nodeIsConnected],c.prototype,"nodeIsConnected",void 0),(0,i.__decorate)([(0,r.RL)("isLoggedIn"),(0,r.RL)("nodeIsConnected")],c.prototype,"restartSubscriptions",null),c=(0,i.__decorate)([r.wA],c),e["Z"]=c},91487:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(25108);let n=class extends r.w3{constructor(...t){super(...t),(0,o.Z)(this,"isSelectAssetLoading",!1)}async withSelectAssetLoading(t){this.isSelectAssetLoading=!0;try{await t()}catch(e){throw a.error(e),e}finally{this.isSelectAssetLoading=!1}}};n=(0,i.__decorate)([r.wA],n),e["Z"]=n},10909:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(80710),n=s(85530),c=s(16546),d=s(63471),l=s(74614),h=s(32806),u=s(25108);const p="provider.messages.checkExtension",v="provider.messages.installExtension",m=t=>{switch(t){case d.zt.Metamask:return"provider.metamask";default:return"provider.default"}},g=(t,e)=>{switch(t){case d.zt.Metamask:return w(e);default:return p}},w=t=>{switch(t.code){case-32002:case 4001:return"provider.messages.extensionLogin";default:return p}};let y=class extends((0,r.Wr)(h.Z)){constructor(...t){super(...t),(0,o.Z)(this,"evmAddress",void 0),(0,o.Z)(this,"isSoraAccountConnected",void 0),(0,o.Z)(this,"isExternalAccountConnected",void 0),(0,o.Z)(this,"resetEvmAddress",void 0),(0,o.Z)(this,"resetWeb3Store",void 0),(0,o.Z)(this,"setEvmNetwork",void 0),(0,o.Z)(this,"switchExternalAccount",void 0),(0,o.Z)(this,"connectExternalAccount",void 0),(0,o.Z)(this,"setEvmNetworkType",void 0),(0,o.Z)(this,"getWalletAddress",n.Tu),(0,o.Z)(this,"formatAddress",n.Tg),(0,o.Z)(this,"isExternalWalletConnecting",!1)}get areNetworksConnected(){return this.isSoraAccountConnected&&this.isExternalAccountConnected}connectInternalWallet(){a.ZP.push({name:c.sn.Wallet})}async connectExternalWallet(){const t=d.zt.Metamask;this.isExternalWalletConnecting=!0;try{await this.connectExternalAccount(t)}catch(e){const s=this.t(m(t)),o=this.te(e.message)?e.message:g(t,e),i=this.t(o,{name:s}),r=o===v;this.$alert(i,{showCancelButton:r,cancelButtonText:this.t("provider.messages.reloadPage"),callback:t=>{"cancel"===t&&a.ZP.go(0)}})}finally{this.isExternalWalletConnecting=!1}}async changeExternalWallet(t){if(!this.isExternalWalletConnecting){this.isExternalWalletConnecting=!0;try{this.switchExternalAccount(t.address)}catch(e){u.error(e)}finally{this.isExternalWalletConnecting=!1}}}async checkConnectionToExternalAccount(t){const e=await d.ZP.checkAccountIsConnected(this.evmAddress);e?await t():await this.connectExternalWallet()}disconnectExternalAccount(){this.resetEvmAddress(),this.resetWeb3Store()}};(0,i.__decorate)([l.SB.web3.evmAddress],y.prototype,"evmAddress",void 0),(0,i.__decorate)([l.Yn.wallet.account.isLoggedIn],y.prototype,"isSoraAccountConnected",void 0),(0,i.__decorate)([l.Yn.web3.isExternalAccountConnected],y.prototype,"isExternalAccountConnected",void 0),(0,i.__decorate)([l.QF.web3.resetEvmAddress],y.prototype,"resetEvmAddress",void 0),(0,i.__decorate)([l.QF.web3.reset],y.prototype,"resetWeb3Store",void 0),(0,i.__decorate)([l.QF.web3.setEvmNetwork],y.prototype,"setEvmNetwork",void 0),(0,i.__decorate)([l.QF.web3.setEvmAddress],y.prototype,"switchExternalAccount",void 0),(0,i.__decorate)([l.aD.web3.connectExternalAccount],y.prototype,"connectExternalAccount",void 0),(0,i.__decorate)([l.aD.web3.setEvmNetworkType],y.prototype,"setEvmNetworkType",void 0),y=(0,i.__decorate)([r.wA],y),e["Z"]=y},57325:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(37365),n=s(74614),c=s(32836);let d=class extends((0,r.Wr)(c.Z,a.tA.TransactionMixin)){constructor(...t){super(...t),(0,o.Z)(this,"deposit",void 0),(0,o.Z)(this,"withdraw",void 0),(0,o.Z)(this,"claimRewards",void 0),(0,o.Z)(this,"showStakeDialog",!1),(0,o.Z)(this,"showClaimDialog",!1),(0,o.Z)(this,"isAddingStake",!0)}changePoolStake(t,e=!0){this.isAddingStake=e,this.setDialogParams(t),this.showStakeDialog=!0}claimPoolRewards(t){this.setDialogParams(t),this.showClaimDialog=!0}async handleStakeAction(t,e){await this.withNotifications((async()=>{await e(t),this.showStakeDialog=!1}))}async handleClaimRewards(t){await this.withNotifications((async()=>{await this.claimRewards(t),this.showClaimDialog=!1}))}getStatusBadgeVisibility(t,e){return!e.includes(t)}};(0,i.__decorate)([n.aD.demeterFarming.deposit],d.prototype,"deposit",void 0),(0,i.__decorate)([n.aD.demeterFarming.withdraw],d.prototype,"withdraw",void 0),(0,i.__decorate)([n.aD.demeterFarming.claimRewards],d.prototype,"claimRewards",void 0),d=(0,i.__decorate)([r.wA],d),e["Z"]=d},26181:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(36930),n=s(82753),c=s(41378),d=s(74614),l=s(85530);let h=class extends((0,r.Wr)(c.Z)){constructor(...t){super(...t),(0,o.Z)(this,"baseAsset",void 0),(0,o.Z)(this,"tvl",void 0),(0,o.Z)(this,"networkFees",void 0),(0,o.Z)(this,"xor",void 0)}get networkFee(){return this.networkFees[a.Operation.DemeterFarmingGetRewards]}get formattedNetworkFee(){return this.formatCodecNumber(this.networkFee)}get isInsufficientXorForFee(){return!!this.xor&&(0,l.LG)(this.xor,this.networkFee)}get xorSymbol(){return n.XOR.symbol}get rewardAssetSymbol(){return this.rewardAsset?.symbol??""}get rewards(){return this.accountPool?.rewards??a.FPNumber.ZERO}get rewardsFormatted(){return this.rewards.toLocaleString()}get rewardAssetPrice(){return this.rewardAsset?.price??a.FPNumber.ZERO}get rewardsFiat(){return this.rewardAsset?this.getFiatAmountByFPNumber(this.rewards,this.rewardAsset):null}get hasRewards(){return!this.rewards.isZero()}get poolAssetSymbol(){return this.poolAsset?.symbol??""}get poolAssetPrice(){return this.poolAsset?.price??a.FPNumber.ZERO}get depositFee(){return this.pool?.depositFee??0}get depositFeeFormatted(){return 100*this.depositFee+"%"}get poolShare(){return this.isFarm?this.funds.isZero()?a.FPNumber.ZERO:a.FPNumber.min(this.lockedFunds,this.funds).div(this.funds).mul(a.FPNumber.HUNDRED):this.lockedFunds}get poolShareFormatted(){return this.poolShare.toLocaleString()+(this.isFarm?"%":"")}get poolShareFiat(){return this.isFarm?null:this.getFiatAmountByFPNumber(this.poolShare,this.poolAsset)}get poolShareText(){return this.isFarm?this.t("demeterFarming.info.poolShare"):this.t("demeterFarming.info.stake",{symbol:this.poolAssetSymbol})}remove(){this.$emit("remove",this.emitParams)}claim(){this.$emit("claim",this.emitParams)}calculator(){this.$emit("calculator",this.emitParams)}};(0,i.__decorate)([(0,r.fI)({default:()=>null,type:Object})],h.prototype,"baseAsset",void 0),(0,i.__decorate)([(0,r.fI)({default:()=>"",type:String})],h.prototype,"tvl",void 0),(0,i.__decorate)([d.SB.wallet.settings.networkFees],h.prototype,"networkFees",void 0),(0,i.__decorate)([d.Yn.assets.xor],h.prototype,"xor",void 0),h=(0,i.__decorate)([r.wA],h),e["Z"]=h},41378:function(t,e,s){var o=s(60760),i=s(70655),r=s(53545),a=s(36930),n=s(37365),c=s(85530),d=s(32806);let l=class extends((0,r.Wr)(n.tA.FormattedAmountMixin,d.Z)){constructor(...t){super(...t),(0,o.Z)(this,"liquidity",void 0),(0,o.Z)(this,"pool",void 0),(0,o.Z)(this,"accountPool",void 0),(0,o.Z)(this,"poolAsset",void 0),(0,o.Z)(this,"rewardAsset",void 0),(0,o.Z)(this,"apr",void 0)}get pricesAvailable(){return Object.keys(this.fiatPriceObject).length>0}get isFarm(){return!!this.pool?.isFarm}get activeStatus(){return!this.pool?.isRemoved}get lockedFunds(){return this.accountPool?.pooledTokens??a.FPNumber.ZERO}get hasStake(){return!!this.accountPool&&!this.lockedFunds.isZero()}get poolAssetBalance(){return a.FPNumber.fromCodecValue((0,c.rh)(this.poolAsset)??0,this.poolAsset?.decimals)}get lpBalance(){return a.FPNumber.fromCodecValue((0,c.rh)(this.liquidity,{parseAsLiquidity:!0})??0)}get funds(){return this.isFarm?this.lpBalance:this.poolAssetBalance}get availableFunds(){return this.isFarm?a.FPNumber.max(this.lockedFunds,this.funds).sub(this.lockedFunds):this.funds}get depositDisabled(){return!this.activeStatus||this.availableFunds.isZero()}get emitParams(){return{baseAsset:this.pool.baseAsset,poolAsset:this.pool.poolAsset,rewardAsset:this.pool.rewardAsset}}add(){this.$emit("add",this.emitParams)}};(0,i.__decorate)([(0,r.fI)({default:()=>null,type:Object})],l.prototype,"liquidity",void 0),(0,i.__decorate)([(0,r.fI)({default:()=>null,type:Object})],l.prototype,"pool",void 0),(0,i.__decorate)([(0,r.fI)({default:()=>null,type:Object})],l.prototype,"accountPool",void 0),(0,i.__decorate)([(0,r.fI)({default:()=>null,type:Object})],l.prototype,"poolAsset",void 0),(0,i.__decorate)([(0,r.fI)({default:()=>null,type:Object})],l.prototype,"rewardAsset",void 0),(0,i.__decorate)([(0,r.fI)({default:()=>"",type:String})],l.prototype,"apr",void 0),l=(0,i.__decorate)([r.wA],l),e["Z"]=l},9195:function(t,e,s){var o=s(37365);e["Z"]={validate(t){return this.wallet(t.wallet)&&this.asset(t.asset)&&this.usd(t.usd)&&this.amount(t.amount)},name(t){return t},wallet(t){return o.hi.validateAddress(t)},asset(t){return t},usd(t){return t&&!isNaN(t)},amount(t){return t&&!isNaN(t)&&Number.isFinite(t)}}},76775:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"172",height:"46",viewBox:"0 0 172 46",fill:"none"}},[s("path",{attrs:{d:"M60.168 9.49158L48.3619 36.3253L54.4485 36.4421L57.08 30.6458H69.0562L71.6878 36.4421L77.7744 36.3253L65.9413 9.49158H60.168ZM58.9597 25.7122L63.0681 16.4471L67.1766 25.7122H58.9686H58.9597ZM164.795 26.1975C168.804 24.9843 170.738 22.3423 170.738 18.3163C170.738 13.2479 167.265 9.53651 162.387 9.53651H150.312L145.076 14.7936V36.4421H150.948V26.2874H158.189L164.83 36.4421H172L164.803 26.1885L164.795 26.1975ZM161.169 21.183H150.903V14.7846H161.169C165.296 14.7846 165.394 21.183 161.169 21.183ZM99.3638 9.5455H81.7127V31.1401L86.7879 36.4511H99.3459C104.081 36.4511 107.509 32.9374 107.697 28.0847V17.876C107.527 13.0502 104.099 9.53651 99.3638 9.53651V9.5455ZM101.297 28.0847C101.252 29.6573 100.187 31.212 98.1555 31.212H87.8441V14.7757H98.1555C100.187 14.7757 101.243 16.3303 101.297 17.903V28.0847ZM123.513 9.49158L111.707 36.3253L117.794 36.4421L120.425 30.6458H132.401L135.033 36.4421L141.12 36.3253L129.287 9.49158H123.513ZM122.305 25.7122L126.413 16.4471L130.522 25.7122H122.314H122.305Z",fill:t.logoColor}}),s("path",{attrs:{opacity:"0.4",d:"M39.331 36.3601L22.806 45.8229C22.5525 45.9684 22.2337 45.7865 22.2337 45.4883V25.5008C22.2337 25.3481 22.3134 25.2026 22.451 25.1226L38.976 15.6598C39.2295 15.5143 39.5483 15.6962 39.5483 15.9944V35.9819C39.5483 36.1346 39.4686 36.2801 39.331 36.3601Z",fill:t.textColor}}),s("path",{attrs:{opacity:"0.4",d:"M0.224601 36.3601L16.7495 45.8229C17.0031 45.9684 17.3219 45.7865 17.3219 45.4883V25.5008C17.3219 25.3481 17.2422 25.2026 17.1045 25.1226L0.579587 15.6598C0.326026 15.5143 0.00726318 15.6962 0.00726318 15.9944V35.9819C0.00726318 36.1346 0.0869538 36.2801 0.224601 36.3601Z",fill:t.textColor}}),s("path",{attrs:{opacity:"0.4",d:"M37.7082 10.7065L20.6326 20.5112C20.2921 20.7075 19.8647 20.7075 19.5242 20.5112L2.47766 10.7429C2.16614 10.5611 2.16614 10.1101 2.47766 9.93553L19.5387 0.421832C19.8792 0.232721 20.2849 0.232721 20.6254 0.421832L37.7082 9.89917C38.0269 10.0737 38.0269 10.532 37.7082 10.7065Z",fill:t.textColor}}),s("path",{attrs:{d:"M22.2337 36.2437L30.833 41.2261L39.5411 36.2437V25.2535L30.594 20.4676V31.8578L22.2337 36.2437Z",fill:t.textColor}}),s("path",{attrs:{d:"M17.3146 36.2437L8.77321 41.2552L0 36.2437V25.2535L8.95433 20.4676V31.8578L17.3146 36.2437Z",fill:t.textColor}}),s("path",{attrs:{d:"M10.9756 15.6089L20.2994 10.6411L29.2465 15.6089V5.25872L20.111 0L10.9756 5.09143V15.6089Z",fill:t.textColor}})])},i=[],r=s(60760),a=s(70655),n=s(53545),c=s(72305);let d=class extends n.w3{constructor(...t){super(...t),(0,r.Z)(this,"theme",void 0)}get textColor(){return this.theme!==c.Z.DARK?"var(--s-color-theme-accent)":"var(--s-color-theme-accent--dark)"}get logoColor(){return this.theme!==c.Z.DARK?"#332222":"#EEEEE0"}};(0,a.__decorate)([(0,n.fI)({default:c.Z.LIGHT,type:String})],d.prototype,"theme",void 0),d=(0,a.__decorate)([n.wA],d);var l=d,h=l,u=s(1001),p=(0,u.Z)(h,o,i,!1,null,null,null),v=p.exports},77225:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{width:"100",height:"32",viewBox:"0 0 100 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M32.9539 24.2427H35.0356V16.4308L38.2424 24.2427H39.9212L43.1111 16.4308V24.2427H45.1931V12.4575H42.641L39.0818 21.1617L35.5226 12.4575H32.9539V24.2427Z",fill:t.textColor}}),s("path",{attrs:{d:"M50.8891 24.3774C53.4579 24.3774 55.3046 22.5254 55.3046 20C55.3046 17.4746 53.4579 15.6227 50.8891 15.6227C48.3038 15.6227 46.4568 17.4746 46.4568 20C46.4568 22.5254 48.3038 24.3774 50.8891 24.3774ZM50.8891 22.5928C49.4789 22.5928 48.5388 21.5321 48.5388 20C48.5388 18.468 49.4789 17.4073 50.8891 17.4073C52.2827 17.4073 53.2228 18.468 53.2228 20C53.2228 21.5321 52.2827 22.5928 50.8891 22.5928Z",fill:t.textColor}}),s("path",{attrs:{d:"M60.3415 24.3774C62.9102 24.3774 64.757 22.5254 64.757 20C64.757 17.4746 62.9102 15.6227 60.3415 15.6227C57.7559 15.6227 55.9092 17.4746 55.9092 20C55.9092 22.5254 57.7559 24.3774 60.3415 24.3774ZM60.3415 22.5928C58.9311 22.5928 57.991 21.5321 57.991 20C57.991 18.468 58.9311 17.4073 60.3415 17.4073C61.7348 17.4073 62.6752 18.468 62.6752 20C62.6752 21.5321 61.7348 22.5928 60.3415 22.5928Z",fill:t.textColor}}),s("path",{attrs:{d:"M65.8147 24.2427H67.8799V19.6128C67.8799 18.3669 68.6857 17.4578 69.844 17.4578C70.9018 17.4578 71.6069 18.2659 71.6069 19.4276V24.2427H73.672V18.9899C73.672 17.0032 72.4296 15.6227 70.5156 15.6227C69.3069 15.6227 68.3499 16.1446 67.8799 17.0706V15.7574H65.8147V24.2427Z",fill:t.textColor}}),s("path",{attrs:{d:"M75.3866 24.2427H77.6195V19.7643H80.1042C82.5555 19.7643 84.016 18.2491 84.016 16.1109C84.016 13.9728 82.5555 12.4575 80.1042 12.4575H75.3866V24.2427ZM77.6195 17.8955V14.3263H80.0036C81.313 14.3263 81.8504 15.1681 81.8504 16.1109C81.8504 17.0537 81.313 17.8955 80.0036 17.8955H77.6195Z",fill:t.textColor}}),s("path",{attrs:{d:"M87.9806 15.6227C85.7814 15.6227 84.3544 16.9359 84.2536 18.6195H86.1004C86.1339 17.8619 86.7888 17.1716 87.8801 17.1716C88.9713 17.1716 89.6092 17.7609 89.6092 18.5858C89.6092 18.9225 89.4077 19.1582 88.988 19.1582H87.4267C85.5295 19.1582 84.2536 20.1852 84.2536 21.8352C84.2536 23.2998 85.3953 24.3774 87.0742 24.3774C88.2829 24.3774 89.2568 23.8217 89.6092 22.9801V24.2427H91.6406V18.7878C91.6406 16.8685 90.1297 15.6227 87.9806 15.6227ZM87.5609 22.8454C86.7888 22.8454 86.2515 22.4075 86.2515 21.751C86.2515 21.0102 86.8392 20.5219 87.7121 20.5219H89.6092V20.6566C89.6092 21.9362 88.8537 22.8454 87.5609 22.8454Z",fill:t.textColor}}),s("path",{attrs:{d:"M100 15.7574H97.8847L95.937 21.5826L93.9728 15.7574H91.8742L94.9633 24.2427L93.7713 27.6771H95.7357L97.0451 23.8386L100 15.7574Z",fill:t.textColor}}),s("path",{attrs:{d:"M24.4838 18.806C24.4838 25.5861 19.0029 31.0823 12.2419 31.0823C5.4809 31.0823 0 25.5861 0 18.806C0 12.0261 5.4809 6.52984 12.2419 6.52984C19.0029 6.52984 24.4838 12.0261 24.4838 18.806Z",fill:t.textColor}}),s("path",{attrs:{d:"M31.829 5.30221C31.829 7.72362 29.8716 9.68656 27.4568 9.68656C25.0422 9.68656 23.0847 7.72362 23.0847 5.30221C23.0847 2.88079 25.0422 0.917847 27.4568 0.917847C29.8716 0.917847 31.829 2.88079 31.829 5.30221Z",fill:t.textColor}})])},i=[],r=s(60760),a=s(70655),n=s(53545),c=s(72305);let d=class extends n.w3{constructor(...t){super(...t),(0,r.Z)(this,"theme",void 0)}get textColor(){return this.theme===c.Z.DARK?"var(--s-color-base-content-primary)":"#111111"}};(0,a.__decorate)([(0,n.fI)({default:c.Z.LIGHT,type:String})],d.prototype,"theme",void 0),d=(0,a.__decorate)([n.wA],d);var l=d,h=l,u=s(1001),p=(0,u.Z)(h,o,i,!1,null,null,null),v=p.exports},78968:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{version:"1.2",baseProfile:"tiny",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 150 52",overflow:"visible","xml:space":"preserve"}},[s("g",[s("path",{attrs:{fill:t.textColor,d:"M23.6,10.1L0,0.3v2.1l21,8.6c0.4,0.2,0.7,0.7,0.5,1.1c-0.1,0.2-0.3,0.4-0.5,0.5L0,21.4v8.5l12.7-5.2L21,28\nc0.4,0.2,0.7,0.7,0.5,1.1c0,0,0,0,0,0c-0.1,0.2-0.3,0.4-0.5,0.5L0,38.3v13.4L23.6,42c1.3-0.5,2.1-1.8,2.1-3.1v-8.7\nc0-1.4-0.8-2.6-2.1-3.1l-8.4-3.5l8.4-3.4c1.3-0.5,2.1-1.7,2.1-3.1v-3.8C25.7,11.8,24.9,10.6,23.6,10.1z M45.2,6\nc0.2,0.4,0.7,0.7,1.2,0.6C47.2,6.7,48,6,48,4.7c0-1.2-0.7-1.9-1.6-1.9c-0.5,0-1,0.2-1.2,0.6V2.9h-0.6v4.9h0.6V6z M46.2,3.4\nc0.6,0,1.1,0.5,1.1,1.4l0,0c0,0.9-0.4,1.4-1.1,1.4c-0.6,0-1.1-0.4-1.1-1.4S45.7,3.4,46.2,3.4z M49.3,4.6c0-0.8,0.3-1.1,0.9-1.1\nc0.1,0,0.2,0,0.4,0V2.9h-0.2c-0.5,0-0.9,0.3-1.1,0.7V2.9h-0.6v3.7h0.6V4.6z M52.6,6.7c0.9,0,1.8-0.6,1.8-1.9c0-1.3-0.9-1.9-1.8-1.9\nc-0.9,0-1.8,0.6-1.8,1.9C50.8,6.1,51.7,6.7,52.6,6.7z M52.6,3.4c0.6,0,1.1,0.4,1.1,1.4c0,1-0.5,1.4-1.1,1.4c-0.6,0-1.1-0.4-1.1-1.4\nC51.5,3.7,52,3.4,52.6,3.4z M55.7,1.6h-0.6v0.8h0.6V1.6z M55.7,6.8V2.9h-0.6v3.9c0,0.4-0.1,0.5-0.4,0.5h-0.2v0.5h0.3\nC55.5,7.8,55.7,7.5,55.7,6.8z M58.2,6.7c0.8,0.1,1.5-0.4,1.7-1.2h-0.6c-0.2,0.4-0.6,0.7-1,0.6c0,0,0,0,0,0c-0.6,0-1.1-0.6-1.1-1.2\nh2.8c0.1-1.2-0.6-2.1-1.7-2.1c-0.1,0-0.1,0-0.2,0c-1,0.1-1.7,0.9-1.6,1.9C56.4,5.8,57,6.7,58.2,6.7z M58.1,3.4c0.6,0,1.1,0.4,1.2,1\nh-2.2C57.1,3.9,57.5,3.4,58.1,3.4z M62.1,6.7c0.8,0,1.5-0.5,1.7-1.3h-0.7c-0.1,0.5-0.5,0.8-1,0.7c-0.6,0-1.1-0.5-1.1-1.4\nc0-0.9,0.5-1.4,1.1-1.4c0.5,0,0.9,0.3,1,0.8l0.6,0c-0.1-0.8-0.8-1.3-1.6-1.3c-1.1,0-1.8,0.8-1.8,1.9C60.4,5.9,61.1,6.7,62.1,6.7z\n  M64.6,5.7c0,0.8,0.2,0.9,0.9,0.9H66V6.1h-0.3c-0.4,0-0.4-0.1-0.4-0.5V3.4H66V2.9h-0.7V1.9h-0.6v0.9h-0.6v0.5h0.6V5.7z M69.6,6.1\nc-0.5,0.1-0.9-0.3-1-0.8H68c0.1,0.8,0.8,1.4,1.6,1.3c0.8,0,1.5-0.4,1.5-1.2s-0.6-1-1.3-1.1l-0.5-0.1c-0.4-0.1-0.6-0.2-0.6-0.5\nc0-0.3,0.4-0.5,0.8-0.5C70,3.3,70.4,3.6,70.5,4h0.7c-0.1-0.7-0.8-1.2-1.5-1.2c-0.8,0-1.5,0.3-1.5,1c0,0.7,0.6,0.9,1.1,1L69.8,5\nc0.4,0.1,0.8,0.3,0.8,0.6C70.5,5.9,70.1,6.1,69.6,6.1z M73,6.7c0.5,0,0.9-0.2,1.2-0.6v0.5h0.6V2.9h-0.6v2c0,0.8-0.4,1.2-0.9,1.2\nc-0.7,0-0.8-0.5-0.8-1.1V2.9h-0.6v2.4C71.8,6.1,72.1,6.7,73,6.7z M76.4,6c0.2,0.4,0.7,0.7,1.2,0.6c0.8,0,1.6-0.7,1.6-1.9\nc0-1.2-0.7-1.9-1.6-1.9c-0.5,0-1,0.2-1.2,0.6V2.9h-0.6v4.9h0.6V6z M77.4,3.4c0.6,0,1.1,0.5,1.1,1.4l0,0c0,0.9-0.4,1.4-1,1.4\nc-0.6,0-1.1-0.4-1.1-1.4S76.8,3.4,77.4,3.4z M80.5,6c0.2,0.4,0.7,0.7,1.2,0.6c0.9,0,1.6-0.7,1.6-1.9c0-1.2-0.7-1.9-1.6-1.9\nc-0.5,0-1,0.2-1.2,0.6V2.9h-0.6v4.9h0.6V6z M81.5,3.4c0.6,0,1.1,0.5,1.1,1.4c0,0.9-0.4,1.4-1.1,1.4c-0.6,0-1.1-0.4-1.1-1.4\nS81,3.4,81.5,3.4z M85.6,2.8c-0.9,0-1.8,0.6-1.8,1.9c0,1.3,0.9,1.9,1.8,1.9v0c1.1,0,1.9-0.9,1.9-1.9S86.6,2.8,85.6,2.8z M85.6,6.1\nc-0.6,0-1.1-0.4-1.1-1.4c0-1,0.5-1.4,1.1-1.4c0.6,0,1.1,0.4,1.1,1.4C86.7,5.7,86.1,6.1,85.6,6.1z M88.7,4.6c0-0.8,0.3-1.1,0.9-1.1\nc0.1,0,0.2,0,0.4,0V2.9h-0.2c-0.5,0-0.9,0.3-1.1,0.7V2.9h-0.6v3.7h0.6V4.6z M90.8,5.7c0,0.8,0.2,0.9,0.9,0.9h0.5V6.1h-0.3\nc-0.4,0-0.4-0.1-0.4-0.5V3.4h0.7V2.9h-0.7V1.9h-0.6v0.9h-0.6v0.5h0.6V5.7z M94.3,6.7c0.8,0.1,1.5-0.4,1.7-1.2h-0.6\nc-0.2,0.4-0.6,0.7-1,0.6c0,0,0,0,0,0c-0.6,0-1.1-0.6-1.1-1.2H96c0.1-1.2-0.6-2.1-1.7-2.1c-0.1,0-0.1,0-0.2,0\nc-1,0.1-1.7,0.9-1.6,1.9C92.5,5.8,93.1,6.7,94.3,6.7z M94.2,3.3c0.6,0,1.1,0.5,1.1,1.1h-2.2C93.1,3.8,93.6,3.3,94.2,3.3z M98.1,6.7\nc0.5,0,1-0.2,1.2-0.6v0.6h0.6v-5h-0.6v1.9C99,3,98.6,2.8,98.1,2.8c-0.9,0-1.6,0.7-1.6,1.9C96.5,6,97.2,6.7,98.1,6.7z M98.2,3.4\nc0.6,0,1.1,0.4,1.1,1.4c0,1-0.5,1.4-1.1,1.4c-0.6,0-1.1-0.5-1.1-1.4C97.2,3.9,97.6,3.4,98.2,3.4z M103.1,6c0.2,0.4,0.7,0.7,1.2,0.6\nc0.9,0,1.6-0.7,1.6-1.9c0-1.2-0.7-1.9-1.6-1.9c-0.5,0-1,0.2-1.2,0.6V1.6h-0.6v5h0.6V6z M104.2,3.4c0.6,0,1.1,0.5,1.1,1.4l0,0\nc0,0.9-0.4,1.4-1.1,1.4c-0.6,0-1.1-0.4-1.1-1.4S103.6,3.4,104.2,3.4z M107.4,6.7c-0.2,0.6-0.3,0.6-0.8,0.6h-0.3v0.5h0.3\nc0.8,0,1-0.2,1.3-1.1l1.3-3.9h-0.7l-0.9,2.9l-0.9-2.9h-0.7L107.4,6.7L107.4,6.7z M52.9,15.5l-1.5,5.7l-1.5-5.7h-1.3L47,21.2\nl-1.5-5.7h-1.4l2.2,7.7h1.2l1.6-6.2l1.7,6.2H52l2.2-7.7H52.9z M58.3,15.4c-2.1,0-3.7,1.6-3.7,4c0,2.3,1.3,4,3.8,4\nc1.9,0,3.1-1.1,3.4-2.4h-1.3c-0.3,0.8-1.2,1.3-2.1,1.3c0,0-0.1,0-0.1,0c-1.3-0.1-2.3-1.1-2.3-2.4h5.9C62,17.4,60.6,15.4,58.3,15.4z\n  M56,18.7c0.1-1.1,1-1.9,2-2c1.2-0.1,2.4,0.8,2.5,2L56,18.7z M70.3,19.4c0-2.5-1.5-4-3.3-4c-1-0.1-2,0.5-2.5,1.3v-3.9h-1.3v10.3\nh1.3V22c0.5,0.9,1.5,1.4,2.5,1.3C68.8,23.4,70.3,21.9,70.3,19.4z M64.4,19.4c0-2,1.1-2.9,2.2-2.9c1.3,0,2.2,1.1,2.2,2.9\nc0,1.8-0.9,2.9-2.2,2.9C65.5,22.3,64.4,21.4,64.4,19.4z M74.9,22.3c-1.5,0-2.2-0.9-2.4-2.2h-1.3c0.1,1.7,1.3,3.2,3.7,3.2\nc2,0,3.7-1,3.7-3.1c0-1.1-0.4-2.1-2-2.6c1-0.4,1.7-1.3,1.7-2.4c0-1.9-1.6-2.6-3.4-2.6c-2.2,0-3.5,1.3-3.6,3.1h1.3c0,0,0-0.1,0-0.1\nc0.1-1.1,1.1-2,2.2-1.9c1.1,0,2,0.6,2,1.7c0,1.2-1,1.7-2.8,1.7H74v1.2h0.2c1.7,0,3,0.5,3,2C77.2,21.6,76.2,22.3,74.9,22.3z\n  M83.9,15v0.6h-1.1v1h1.1v6.6h1.3v-6.6h1.4v-1h-1.4v-0.6c0-0.8,0.1-1,0.8-1h0.6v-1.1H86C84.2,12.9,83.9,13.4,83.9,15z M94.5,19.4\nc0-2.8-1.9-4-3.7-4c-1.8,0-3.7,1.2-3.7,4c0,2.8,1.9,4,3.7,4C92.6,23.4,94.5,22.2,94.5,19.4z M88.5,19.4c0-2.1,1.1-2.8,2.3-2.8\nc1.2,0,2.3,0.8,2.3,2.8c0,2-1.1,2.8-2.3,2.8C89.6,22.2,88.5,21.5,88.5,19.4z M100.6,22.1v1.1h1.3v-7.7h-1.3v4.2\nc0,1.6-0.7,2.5-2,2.5c-1.4,0-1.6-1-1.6-2.2v-4.5h-1.3v4.9c0,1.8,0.7,2.9,2.5,2.9C99.2,23.4,100.1,23,100.6,22.1z M107.5,15.4\nc-1-0.1-2,0.4-2.5,1.3v-1.2h-1.3v7.7h1.3V19c0-1.6,0.8-2.5,2-2.5c1.5,0,1.7,1,1.7,2.2v4.5h1.3v-4.8C110,16.6,109.4,15.4,107.5,15.4\nz M117.1,16.7c-0.5-0.9-1.5-1.4-2.5-1.3c-1.8,0-3.3,1.4-3.3,4c0,2.5,1.5,4,3.3,4c1,0.1,2-0.5,2.5-1.3v1.2h1.3V12.9l-1.3,0V16.7z\n  M114.9,22.3c-1.3,0-2.2-1.1-2.2-2.9c0-1.8,0.9-2.9,2.2-2.9c1.2,0,2.2,0.9,2.2,2.9S116.1,22.3,114.9,22.3z M119.8,21.2\nc0,1.4,1.2,2.2,2.6,2.2c1.4,0,2.2-0.5,2.6-1.2c0,0.4,0,0.7,0.1,1.1h1.3c-0.2-1-0.2-1.9-0.2-2.9v-1.8c0-2.1-0.9-3.2-3.1-3.2\nc-1.5,0-3,0.9-3.1,2.6h1.3c0.1-0.9,0.7-1.5,1.8-1.5c0.9,0,1.7,0.5,1.7,1.9v0.2C121.8,18.8,119.8,19.4,119.8,21.2z M125.1,19.5V20\nc0,1.8-1.2,2.4-2.4,2.4c-0.9,0-1.5-0.5-1.5-1.2C121.2,20.1,122.7,19.8,125.1,19.5z M129.6,13.6h-1.3v1.9h-1.2v1h1.2v4.7\nc0,1.6,0.3,1.9,1.8,1.9h0.9v-1.1h-0.7c-0.7,0-0.8-0.2-0.8-1v-4.5h1.5v-1h-1.5V13.6z M133.6,12.9h-1.3v1.6h1.3V12.9z M133.6,15.5\nh-1.3v7.7h1.3V15.5z M138.6,23.4c1.8,0,3.7-1.2,3.7-4c0-2.8-1.9-4-3.7-4c-1.8,0-3.7,1.2-3.7,4C135,22.2,136.9,23.4,138.6,23.4z\n  M138.6,16.6c1.2,0,2.3,0.8,2.3,2.8c0,2-1.1,2.8-2.3,2.8s-2.3-0.8-2.3-2.8C136.3,17.3,137.5,16.6,138.6,16.6z M147.5,15.4\nc-1-0.1-2,0.4-2.5,1.3v-1.2h-1.3v7.7h1.3V19c0-1.6,0.8-2.5,2-2.5c1.5,0,1.7,1,1.7,2.2v4.5h1.3v-4.8C150,16.6,149.3,15.4,147.5,15.4\nz M50.3,32.6c-0.5-0.9-1.4-1.4-2.4-1.3c-1.7,0-3.3,1.4-3.3,3.8c0,2.5,1.6,3.8,3.3,3.8c1,0.1,2-0.4,2.4-1.3v0.7c0,1-0.2,1.4-0.5,1.7\nc-0.4,0.4-1,0.6-1.6,0.6c-1.2,0-1.6-0.5-1.8-1.2H45c0.2,1.5,1.4,2.3,3.2,2.3c1,0.1,2-0.3,2.7-1c0.4-0.5,0.7-1.1,0.7-2.7v-6.6h-1.3\nV32.6z M48.1,37.8c-1.3,0-2.2-1-2.2-2.7c0-1.8,0.9-2.7,2.2-2.7c1.1,0,2.2,0.8,2.2,2.7C50.3,37,49.3,37.8,48.1,37.8z M54.6,32.7\nv-1.3h-1.3v7.7h1.3v-4c0-1.7,0.6-2.3,1.8-2.3c0.2,0,0.5,0,0.7,0v-1.4c-0.1,0-0.3,0-0.4,0C55.9,31.3,55,31.9,54.6,32.7z M64.2,34.4\nc0-2.2-0.9-3.2-3.1-3.2c-1.5,0-3,0.9-3.1,2.6h1.3c0.1-0.9,0.7-1.5,1.8-1.5c0.9,0,1.7,0.5,1.7,1.9v0.2c-3.2,0.4-5.2,0.9-5.2,2.7\nc0,1.4,1.2,2.2,2.6,2.2c1.4,0,2.2-0.5,2.6-1.2c0,0.4,0,0.7,0.1,1.1h1.3c-0.2-1-0.2-1.9-0.2-2.9V34.4z M63,35.9\nc0,1.8-1.2,2.4-2.4,2.4c-0.9,0-1.5-0.5-1.5-1.2h0c0-1.1,1.5-1.4,3.9-1.6V35.9z M69.7,31.3c-1-0.1-2,0.4-2.5,1.3v-1.2h-1.3v7.7h1.3\nv-4.2c0-1.6,0.8-2.5,2-2.5c1.5,0,1.7,1,1.7,2.2v4.5h1.3v-4.8C72.2,32.5,71.5,31.3,69.7,31.3z M75.6,29.5h-1.3v1.9h-1.2v1h1.2v4.7\nc0,1.6,0.3,1.9,1.8,1.9H77V38h-0.7c-0.7,0-0.8-0.2-0.8-1v-4.5H77v-1h-1.5V29.5z M81.5,34.6l-1.1-0.2c-0.7-0.1-1.2-0.4-1.2-1\nc0-0.7,0.9-1,1.6-1c0.9,0,1.6,0.4,1.8,1.3h1.4c-0.2-1.4-1.3-2.4-3-2.4c-1.7,0-3.1,0.8-3.1,2.1c0,1.4,1.1,1.9,2.2,2.1l1.1,0.2\nc0.8,0.2,1.6,0.6,1.6,1.3c0,0.7-0.8,1.1-1.8,1.1c-1,0.1-1.8-0.6-2-1.6h-1.4c0.1,1.3,1.3,2.7,3.3,2.7c1.8,0,3.1-0.9,3.1-2.4\nS82.9,34.9,81.5,34.6z M92.9,31.3c-1-0.1-2,0.5-2.5,1.3v-1.2h-1.3v10.1h1.3v-3.6c0.5,0.9,1.5,1.4,2.5,1.3c1.8,0,3.3-1.5,3.3-4\nC96.2,32.7,94.7,31.3,92.9,31.3z M92.6,38.1c-1.2,0-2.2-0.9-2.2-2.9s1.1-2.9,2.2-2.9c1.3,0,2.2,1.1,2.2,2.9\nC94.8,37.1,93.9,38.1,92.6,38.1z M98.8,32.7v-1.3h-1.3v7.7h1.3v-4c0-1.7,0.6-2.3,1.8-2.3c0.2,0,0.5,0,0.7,0v-1.4\nc-0.1,0-0.3,0-0.4,0C100.1,31.3,99.2,31.9,98.8,32.7z M105.5,31.3c-1.8,0-3.7,1.2-3.7,4c0,2.8,1.9,4,3.7,4c1.8,0,3.7-1.2,3.7-4\nC109.2,32.5,107.3,31.3,105.5,31.3z M105.5,38.1c-1.2,0-2.3-0.8-2.3-2.8c0-2.1,1.1-2.9,2.3-2.9c1.2,0,2.3,0.8,2.3,2.9h0\nC107.8,37.2,106.7,38.1,105.5,38.1z M115.8,32.6c-0.5-0.9-1.4-1.4-2.4-1.3c-1.7,0-3.3,1.4-3.3,3.8c0,2.5,1.6,3.8,3.3,3.8\nc1,0.1,2-0.4,2.4-1.3v0.7c0,1-0.2,1.4-0.5,1.7c-0.4,0.4-1,0.6-1.6,0.6c-1.2,0-1.6-0.5-1.8-1.2h-1.4c0.2,1.5,1.4,2.3,3.2,2.3\nc1,0.1,2-0.3,2.7-1c0.4-0.5,0.7-1.1,0.7-2.7v-6.6h-1.3V32.6z M113.7,37.8c-1.3,0-2.2-1-2.2-2.7c0-1.8,0.9-2.7,2.2-2.7\nc1.1,0,2.2,0.8,2.2,2.7C115.9,37,114.9,37.8,113.7,37.8z M120.2,32.7v-1.3h-1.3v7.7h1.3v-4c0-1.7,0.6-2.3,1.8-2.3\nc0.2,0,0.5,0,0.7,0v-1.4c-0.1,0-0.3,0-0.4,0C121.4,31.3,120.6,31.9,120.2,32.7z M129.8,34.4c0-2.2-0.9-3.2-3.1-3.2\nc-1.5,0-3,0.9-3.1,2.6h1.3c0.1-0.9,0.7-1.5,1.8-1.5c0.9,0,1.7,0.5,1.7,1.9v0.2c-3.2,0.4-5.2,0.9-5.2,2.7c0,1.4,1.2,2.2,2.6,2.2\nc1.4,0,2.2-0.5,2.6-1.2c0,0.4,0,0.7,0.1,1.1h1.3c-0.2-1-0.2-1.9-0.2-2.9V34.4z M128.6,35.9c0,1.8-1.2,2.4-2.4,2.4\nc-0.9,0-1.5-0.5-1.5-1.2c0-1.1,1.5-1.4,3.9-1.6V35.9z M139.9,31.3c-1,0-2,0.5-2.6,1.4c-0.3-0.8-1-1.4-2.2-1.4c-1,0-1.8,0.5-2.3,1.3\nv-1.2h-1.3v7.7h1.3v-4.2c0-1.6,0.7-2.5,1.9-2.5c1.4,0,1.6,1,1.6,2.2v4.5h1.3v-4.2c0-1.6,0.7-2.5,1.9-2.5c1.4,0,1.6,1,1.6,2.2V39\nh1.3v-4.8C142.4,32.5,141.7,31.3,139.9,31.3z"}})])])},i=[],r=s(60760),a=s(70655),n=s(53545),c=s(72305);let d=class extends n.w3{constructor(...t){super(...t),(0,r.Z)(this,"theme",void 0)}get textColor(){return this.theme===c.Z.DARK?"var(--s-color-base-content-tertiary)":"#A19A9D"}};(0,a.__decorate)([(0,n.fI)({default:c.Z.LIGHT,type:String})],d.prototype,"theme",void 0),d=(0,a.__decorate)([n.wA],d);var l=d,h=l,u=s(1001),p=(0,u.Z)(h,o,i,!1,null,null,null),v=p.exports},94964:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"route-assets-warning-message",class:t.isError?"route-assets-warning-message_invalid":"route-assets-warning-message_valid"},[s("div",[t._v(t._s(t.text))]),s("div",[s("s-icon",{staticClass:"icon-status",attrs:{name:t.isError?"basic-clear-X-xs-24":"basic-check-marks-24"}})],1)])},i=[],r=s(60760),a=s(70655),n=s(53545);let c=class extends n.w3{constructor(...t){super(...t),(0,r.Z)(this,"text",void 0),(0,r.Z)(this,"isError",void 0)}};(0,a.__decorate)([(0,n.fI)()],c.prototype,"text",void 0),(0,a.__decorate)([(0,n.fI)({default:!0})],c.prototype,"isError",void 0),c=(0,a.__decorate)([(0,n.wA)({})],c);var d=c,l=d,h=s(1001),u=(0,h.Z)(l,o,i,!1,null,null,null),p=u.exports},49155:function(t,e,s){s.r(e),s.d(e,{default:function(){return F}});var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swap-container"},[s("s-form",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading,expression:"parentLoading"}],staticClass:"container el-form--actions",attrs:{"show-message":!1}},[s("generic-page-header",{staticClass:"page-header--swap",attrs:{title:t.t("exchange.Swap")}},[s("div",{staticClass:"swap-settings-buttons"},[s("status-action-badge",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.t("marketText"))+":")]},proxy:!0},{key:"value",fn:function(){return[t._v(t._s(t.swapMarketAlgorithm))]},proxy:!0},{key:"action",fn:function(){return[s("s-button",{staticClass:"el-button--settings",attrs:{type:"action",icon:"basic-settings-24"},on:{click:t.openSettingsDialog}})]},proxy:!0}])}),t.chartsFlagEnabled?s("svg-icon-button",{attrs:{icon:"line-icon",size:"medium",tooltip:t.t("dexSettings.сhartsDescription"),active:t.chartsEnabled},on:{click:t.toggleChart}}):t._e()],1)]),s("token-input",{attrs:{"is-select-available":"",balance:t.getTokenBalance(t.tokenFrom),"is-max-available":t.isMaxSwapAvailable,title:t.t("transfers.from"),token:t.tokenFrom,value:t.fromValue},on:{input:t.handleInputFieldFrom,focus:function(e){return t.handleFocusField(!1)},max:t.handleMaxValue,select:function(e){return t.openSelectTokenDialog(!0)}},scopedSlots:t._u([t.areTokensSelected&&!t.isZeroToAmount&&t.isExchangeB?{key:"title-append",fn:function(){return[s("span",{staticClass:"input-title--uppercase input-title--primary"},[t._v(" ("+t._s(t.t("swap.estimated"))+") ")])]},proxy:!0}:null],null,!0)}),s("s-button",{staticClass:"el-button--switch-tokens",attrs:{type:"action",icon:"arrows-swap-90-24",disabled:!t.areTokensSelected},on:{click:t.handleSwitchTokens}}),s("token-input",{attrs:{"is-select-available":"",balance:t.getTokenBalance(t.tokenTo),title:t.t("transfers.to"),token:t.tokenTo,value:t.toValue},on:{input:t.handleInputFieldTo,focus:function(e){return t.handleFocusField(!0)},select:function(e){return t.openSelectTokenDialog(!1)}},scopedSlots:t._u([!t.areTokensSelected||t.isZeroFromAmount||t.isExchangeB?null:{key:"title-append",fn:function(){return[s("span",{staticClass:"input-title--uppercase input-title--primary"},[t._v(" ("+t._s(t.t("swap.estimated"))+") ")])]},proxy:!0},t.tokenTo?{key:"fiat-amount-append",fn:function(){return[s("value-status-wrapper",{staticClass:"price-difference__value",attrs:{value:t.fiatDifference}},[t._v(" ("),s("formatted-amount",{attrs:{value:t.fiatDifferenceFormatted}},[t._v("%")]),t._v(") ")],1)]},proxy:!0}:null],null,!0)}),s("slippage-tolerance",{staticClass:"slippage-tolerance-settings"}),t.isLoggedIn?s("s-button",{staticClass:"action-button s-typography-button--large",attrs:{type:"primary",disabled:t.isConfirmSwapDisabled,loading:t.isSelectAssetLoading},on:{click:t.handleConfirmSwap}},[t.areTokensSelected?t.isAvailable?t.areZeroAmounts?[t._v(" "+t._s(t.t("buttons.enterAmount"))+" ")]:t.isInsufficientLiquidity?[t._v(" "+t._s(t.t("swap.insufficientLiquidity"))+" ")]:t.isInsufficientBalance?[t._v(" "+t._s(t.t("exchange.insufficientBalance",{tokenSymbol:t.tokenFromSymbol}))+" ")]:t.isInsufficientXorForFee?[t._v(" "+t._s(t.t("exchange.insufficientBalance",{tokenSymbol:t.KnownSymbols.XOR}))+" ")]:[t._v(" "+t._s(t.t("exchange.Swap"))+" ")]:[t._v(" "+t._s(t.t("swap.pairIsNotCreated"))+" ")]:[t._v(" "+t._s(t.t("buttons.chooseTokens"))+" ")]],2):s("s-button",{staticClass:"action-button s-typography-button--large",attrs:{type:"primary"},on:{click:t.handleConnectWallet}},[t._v(" "+t._s(t.t("swap.connectWallet"))+" ")]),t.areTokensSelected&&!t.hasZeroAmount?s("swap-transaction-details",{staticClass:"info-line-container",attrs:{"info-only":!1}}):t._e(),s("select-token",{attrs:{visible:t.showSelectTokenDialog,connected:t.isLoggedIn,asset:t.isTokenFromSelected?t.tokenTo:t.tokenFrom},on:{"update:visible":function(e){t.showSelectTokenDialog=e},select:t.handleSelectToken}}),s("swap-confirm",{attrs:{visible:t.showConfirmSwapDialog,isInsufficientBalance:t.isInsufficientBalance},on:{"update:visible":function(e){t.showConfirmSwapDialog=e},confirm:t.confirmSwap}}),s("settings-dialog",{attrs:{visible:t.showSettings},on:{"update:visible":function(e){t.showSettings=e}}})],1),t.chartsEnabled?s("swap-chart",{attrs:{"token-from":t.tokenFrom,"token-to":t.tokenTo,"is-available":t.isAvailable}}):t._e()],1)},i=[],r=s(60760),a=s(70655),n=s(53545),c=s(37365),d=s(36930),l=s(82753),h=s(31840),u=s(32806),p=s(91487),v=s(85530),m=s(80710),g=s(16546),w=s(74614),y=s(25108);let f=class extends((0,n.Wr)(c.tA.FormattedAmountMixin,c.tA.LoadingMixin,u.Z,p.Z)){constructor(...t){super(...t),(0,r.Z)(this,"сhartsEnabled",void 0),(0,r.Z)(this,"networkFees",void 0),(0,r.Z)(this,"dexQuoteData",void 0),(0,r.Z)(this,"enabledAssets",void 0),(0,r.Z)(this,"isExchangeB",void 0),(0,r.Z)(this,"fromValue",void 0),(0,r.Z)(this,"toValue",void 0),(0,r.Z)(this,"xor",void 0),(0,r.Z)(this,"liquiditySource",void 0),(0,r.Z)(this,"chartsFlagEnabled",void 0),(0,r.Z)(this,"nodeIsConnected",void 0),(0,r.Z)(this,"chartsEnabled",void 0),(0,r.Z)(this,"isLoggedIn",void 0),(0,r.Z)(this,"tokenFrom",void 0),(0,r.Z)(this,"tokenTo",void 0),(0,r.Z)(this,"isAvailable",void 0),(0,r.Z)(this,"swapMarketAlgorithm",void 0),(0,r.Z)(this,"setChartsEnabled",void 0),(0,r.Z)(this,"setFromValue",void 0),(0,r.Z)(this,"setToValue",void 0),(0,r.Z)(this,"setAmountWithoutImpact",void 0),(0,r.Z)(this,"setExchangeB",void 0),(0,r.Z)(this,"setLiquidityProviderFee",void 0),(0,r.Z)(this,"setEnabledAssets",void 0),(0,r.Z)(this,"setRewards",void 0),(0,r.Z)(this,"setPath",void 0),(0,r.Z)(this,"selectDexId",void 0),(0,r.Z)(this,"setTokenFromAddress",void 0),(0,r.Z)(this,"setTokenToAddress",void 0),(0,r.Z)(this,"switchTokens",void 0),(0,r.Z)(this,"reset",void 0),(0,r.Z)(this,"setSubscriptionPayload",void 0),(0,r.Z)(this,"resetBalanceSubscriptions",void 0),(0,r.Z)(this,"updateBalanceSubscriptions",void 0),(0,r.Z)(this,"delimiters",d.FPNumber.DELIMITERS_CONFIG),(0,r.Z)(this,"KnownSymbols",l.KnownSymbols),(0,r.Z)(this,"isTokenFromSelected",!1),(0,r.Z)(this,"showSettings",!1),(0,r.Z)(this,"showSelectTokenDialog",!1),(0,r.Z)(this,"showConfirmSwapDialog",!1),(0,r.Z)(this,"liquidityReservesSubscription",null),(0,r.Z)(this,"enabledAssetsSubscription",null),(0,r.Z)(this,"recountSwapValues",(0,v._1)(this.runRecountSwapValues,100))}handleLiquiditySourceChange(){this.subscribeOnSwapReserves()}updateConnectionSubsriptions(t){t?this.enableSwapSubscriptions():this.resetSwapSubscriptions()}get tokenFromSymbol(){return this.tokenFrom?.symbol??""}get areTokensSelected(){return!(!this.tokenFrom||!this.tokenTo)}get isZeroFromAmount(){return(0,v.yA)(this.fromValue)}get isZeroToAmount(){return(0,v.yA)(this.toValue)}get hasZeroAmount(){return this.isZeroFromAmount||this.isZeroToAmount}get areZeroAmounts(){return this.isZeroFromAmount&&this.isZeroToAmount}get fromFiatAmount(){return this.tokenFrom&&this.fromValue&&this.getFiatAmountByString(this.fromValue,this.tokenFrom)||g.m8}get toFiatAmount(){return this.tokenTo&&this.toValue&&this.getFiatAmountByString(this.toValue,this.tokenTo)||g.m8}get fiatDifference(){const t=new RegExp(`\\${d.FPNumber.DELIMITERS_CONFIG.thousand}`,"g"),e=new RegExp(`\\${d.FPNumber.DELIMITERS_CONFIG.decimal}`,"g"),s=s=>s.replace(t,"").replace(e,"."),o=s(this.fromFiatAmount),i=s(this.toFiatAmount);if((0,v.yA)(o)||(0,v.yA)(i))return"0";const r=new d.FPNumber(o),a=new d.FPNumber(i),n=a.sub(r).div(r).mul(this.Hundred).toFixed(2);return n}get fiatDifferenceFormatted(){return this.formatStringValue(this.fiatDifference)}get isXorOutputSwap(){return this.tokenTo?.address===l.XOR.address}get isMaxSwapAvailable(){return!(!this.tokenFrom||!this.tokenTo)&&(this.isLoggedIn&&(0,v.oI)(this.areTokensSelected,this.tokenFrom,this.fromValue,this.networkFee,this.xor,!1,this.isXorOutputSwap))}get preparedForSwap(){return this.isLoggedIn&&this.areTokensSelected}get isInsufficientLiquidity(){return this.isAvailable&&this.preparedForSwap&&!this.areZeroAmounts&&this.hasZeroAmount}get isInsufficientBalance(){return!!this.tokenFrom&&(this.preparedForSwap&&(0,v.Vl)(this.tokenFrom,this.fromValue,this.networkFee))}get isInsufficientXorForFee(){const t=this.preparedForSwap&&(0,v.LG)(this.xor,this.networkFee,this.isXorOutputSwap);if(t||!this.isXorOutputSwap)return t;const e=this.getFPNumberFromCodec(this.xor.balance?.transferable??"0",this.xor.decimals),s=this.getFPNumberFromCodec(this.networkFee,this.xor.decimals).sub(e),o=this.getFPNumber(this.toValue,this.xor.decimals).sub(d.FPNumber.gt(s,this.Zero)?s:this.Zero);return d.FPNumber.lte(o,this.Zero)}get networkFee(){return this.networkFees[d.Operation.Swap]}get isConfirmSwapDisabled(){return!this.areTokensSelected||!this.isAvailable||this.areZeroAmounts||this.isInsufficientLiquidity||this.isInsufficientBalance||this.isInsufficientXorForFee}created(){this.withApi((async()=>{this.tokenFrom||(await this.setTokenFromAddress(l.XOR.address),await this.setTokenToAddress()),this.enableSwapSubscriptions()}))}getTokenBalance(t){return(0,v.rh)(t)}resetFieldFrom(){this.setFromValue("")}resetFieldTo(){this.setToValue("")}handleInputFieldFrom(t,e=!0){this.areTokensSelected&&!(0,v.yA)(t)||this.resetFieldTo(),t!==this.fromValue&&(this.setFromValue(t),e&&this.recountSwapValues())}handleInputFieldTo(t,e=!0){this.areTokensSelected&&!(0,v.yA)(t)||this.resetFieldFrom(),t!==this.toValue&&(this.setToValue(t),e&&this.recountSwapValues())}runRecountSwapValues(){const t=this.isExchangeB?this.toValue:this.fromValue;if(!this.areTokensSelected||(0,v.yA)(t))return;const e=this.isExchangeB?this.setFromValue:this.setToValue,s=this.isExchangeB?this.resetFieldFrom:this.resetFieldTo,o=this.isExchangeB?this.tokenFrom:this.tokenTo,i=c.hi.dex.dexList;try{const s=i.reduce(((e,{dexId:s})=>{const o=c.hi.swap.getResult(this.tokenFrom,this.tokenTo,t,this.isExchangeB,[this.liquiditySource].filter(Boolean),this.dexQuoteData[s].paths,this.dexQuoteData[s].payload,s);return{...e,[s]:o}}),{});let r=h.DexId.XOR;for(const t in s){const e=d.FPNumber.fromCodecValue(s[t].amount),o=d.FPNumber.fromCodecValue(s[r].amount);e.isZero()||(d.FPNumber.isLessThan(e,o)&&this.isExchangeB||d.FPNumber.isLessThan(o,e)&&!this.isExchangeB)&&(r=+t)}const{amount:a,amountWithoutImpact:n,fee:l,rewards:u,path:p}=s[r];e(this.getStringFromCodec(a,o.decimals)),this.setAmountWithoutImpact(n),this.setLiquidityProviderFee(l),this.setRewards(u),this.setPath(p),this.selectDexId(r)}catch(r){y.error(r),s()}}cleanEnabledAssetsSubscription(){this.enabledAssetsSubscription?.unsubscribe(),this.enabledAssetsSubscription=null}subscribeOnEnabledAssetsAndSwapReserves(){this.cleanEnabledAssetsSubscription(),this.enabledAssetsSubscription=c.hi.swap.subscribeOnPrimaryMarketsEnabledAssets().subscribe((t=>{this.setEnabledAssets(t),this.subscribeOnSwapReserves()}))}cleanSwapReservesSubscription(){this.liquidityReservesSubscription?.unsubscribe(),this.liquidityReservesSubscription=null}subscribeOnSwapReserves(){this.cleanSwapReservesSubscription(),this.areTokensSelected&&(this.liquidityReservesSubscription=c.hi.swap.subscribeOnAllDexesReserves(this.tokenFrom.address,this.tokenTo.address,this.enabledAssets,this.liquiditySource).subscribe((t=>{t.forEach((t=>this.setSubscriptionPayload(t))),this.runRecountSwapValues()})))}handleFocusField(t=!1){const e=t?this.isZeroToAmount:this.isZeroFromAmount,s=this.isExchangeB;this.setExchangeB(t),e&&(this.resetFieldFrom(),this.resetFieldTo()),s!==this.isExchangeB&&this.recountSwapValues()}async handleSwitchTokens(){this.tokenFrom&&this.tokenTo&&(await this.switchTokens(),this.isExchangeB?(this.setExchangeB(!1),this.handleInputFieldFrom(this.toValue)):(this.setExchangeB(!0),this.handleInputFieldTo(this.fromValue)),this.subscribeOnSwapReserves())}handleMaxValue(){if(!this.tokenFrom)return;this.setExchangeB(!1);const t=(0,v.MN)(this.tokenFrom,this.networkFee);this.handleInputFieldFrom(t)}handleConnectWallet(){m.ZP.push({name:g.sn.Wallet})}openSelectTokenDialog(t){this.isTokenFromSelected=t,this.showSelectTokenDialog=!0}async handleSelectToken(t){t&&await this.withSelectAssetLoading((async()=>{this.isTokenFromSelected?await this.setTokenFromAddress(t.address):await this.setTokenToAddress(t.address),this.subscribeOnSwapReserves()}))}handleConfirmSwap(){this.showConfirmSwapDialog=!0}async confirmSwap(t){t&&(this.resetFieldFrom(),this.resetFieldTo(),this.setExchangeB(!1))}openSettingsDialog(){this.showSettings=!0}toggleChart(){this.setChartsEnabled(!this.chartsEnabled)}enableSwapSubscriptions(){this.updateBalanceSubscriptions(),this.subscribeOnEnabledAssetsAndSwapReserves()}resetSwapSubscriptions(){this.resetBalanceSubscriptions(),this.cleanEnabledAssetsSubscription(),this.cleanSwapReservesSubscription()}beforeDestroy(){this.resetSwapSubscriptions()}destroyed(){this.reset()}};(0,a.__decorate)([w.SB.settings["сhartsEnabled"]],f.prototype,"сhartsEnabled",void 0),(0,a.__decorate)([w.SB.wallet.settings.networkFees],f.prototype,"networkFees",void 0),(0,a.__decorate)([w.SB.swap.dexQuoteData],f.prototype,"dexQuoteData",void 0),(0,a.__decorate)([w.SB.swap.enabledAssets],f.prototype,"enabledAssets",void 0),(0,a.__decorate)([w.SB.swap.isExchangeB],f.prototype,"isExchangeB",void 0),(0,a.__decorate)([w.SB.swap.fromValue],f.prototype,"fromValue",void 0),(0,a.__decorate)([w.SB.swap.toValue],f.prototype,"toValue",void 0),(0,a.__decorate)([w.Yn.assets.xor],f.prototype,"xor",void 0),(0,a.__decorate)([w.Yn.swap.swapLiquiditySource],f.prototype,"liquiditySource",void 0),(0,a.__decorate)([w.Yn.settings.chartsFlagEnabled],f.prototype,"chartsFlagEnabled",void 0),(0,a.__decorate)([w.Yn.settings.nodeIsConnected],f.prototype,"nodeIsConnected",void 0),(0,a.__decorate)([w.Yn.settings.chartsEnabled],f.prototype,"chartsEnabled",void 0),(0,a.__decorate)([w.Yn.wallet.account.isLoggedIn],f.prototype,"isLoggedIn",void 0),(0,a.__decorate)([w.Yn.swap.tokenFrom],f.prototype,"tokenFrom",void 0),(0,a.__decorate)([w.Yn.swap.tokenTo],f.prototype,"tokenTo",void 0),(0,a.__decorate)([w.Yn.swap.isAvailable],f.prototype,"isAvailable",void 0),(0,a.__decorate)([w.Yn.swap.swapMarketAlgorithm],f.prototype,"swapMarketAlgorithm",void 0),(0,a.__decorate)([w.QF.settings.setChartsEnabled],f.prototype,"setChartsEnabled",void 0),(0,a.__decorate)([w.QF.swap.setFromValue],f.prototype,"setFromValue",void 0),(0,a.__decorate)([w.QF.swap.setToValue],f.prototype,"setToValue",void 0),(0,a.__decorate)([w.QF.swap.setAmountWithoutImpact],f.prototype,"setAmountWithoutImpact",void 0),(0,a.__decorate)([w.QF.swap.setExchangeB],f.prototype,"setExchangeB",void 0),(0,a.__decorate)([w.QF.swap.setLiquidityProviderFee],f.prototype,"setLiquidityProviderFee",void 0),(0,a.__decorate)([w.QF.swap.setPrimaryMarketsEnabledAssets],f.prototype,"setEnabledAssets",void 0),(0,a.__decorate)([w.QF.swap.setRewards],f.prototype,"setRewards",void 0),(0,a.__decorate)([w.QF.swap.setPath],f.prototype,"setPath",void 0),(0,a.__decorate)([w.QF.swap.selectDexId],f.prototype,"selectDexId",void 0),(0,a.__decorate)([w.aD.swap.setTokenFromAddress],f.prototype,"setTokenFromAddress",void 0),(0,a.__decorate)([w.aD.swap.setTokenToAddress],f.prototype,"setTokenToAddress",void 0),(0,a.__decorate)([w.aD.swap.switchTokens],f.prototype,"switchTokens",void 0),(0,a.__decorate)([w.aD.swap.reset],f.prototype,"reset",void 0),(0,a.__decorate)([w.aD.swap.setSubscriptionPayload],f.prototype,"setSubscriptionPayload",void 0),(0,a.__decorate)([w.aD.swap.resetSubscriptions],f.prototype,"resetBalanceSubscriptions",void 0),(0,a.__decorate)([w.aD.swap.updateSubscriptions],f.prototype,"updateBalanceSubscriptions",void 0),(0,a.__decorate)([(0,n.RL)("liquiditySource")],f.prototype,"handleLiquiditySourceChange",null),(0,a.__decorate)([(0,n.RL)("nodeIsConnected")],f.prototype,"updateConnectionSubsriptions",null),f=(0,a.__decorate)([(0,n.wA)({components:{GenericPageHeader:(0,m.kF)(g.z8.GenericPageHeader),SettingsDialog:(0,m.kF)(g.z8.SettingsDialog),SlippageTolerance:(0,m.kF)(g.z8.SlippageTolerance),SelectToken:(0,m.kF)(g.z8.SelectToken),SwapConfirm:(0,m.kF)(g.z8.SwapConfirm),StatusActionBadge:(0,m.kF)(g.z8.StatusActionBadge),TokenInput:(0,m.kF)(g.z8.TokenInput),ValueStatusWrapper:(0,m.kF)(g.z8.ValueStatusWrapper),SwapTransactionDetails:(0,m.kF)(g.z8.SwapTransactionDetails),SwapChart:(0,m.kF)(g.z8.SwapChart),SvgIconButton:(0,m.kF)(g.z8.SvgIconButton),FormattedAmount:c.wx.FormattedAmount}})],f);var _=f,b=_,S=s(1001),k=(0,S.Z)(b,o,i,!1,null,"52a39c78",null),F=k.exports}}]);